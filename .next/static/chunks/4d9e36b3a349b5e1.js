(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";e.s(["ArrowLeft",()=>t],71689);let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},94351,e=>{"use strict";e.s(["Home",()=>t],94351);let t=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},78972,e=>{"use strict";e.s(["default",()=>u],78972);var t=e.i(43476),a=e.i(71645),i=e.i(78481),l=e.i(22016),s=e.i(51737),r=e.i(71689),n=e.i(94351);let o=(0,e.i(75254).default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var d=e.i(18566),c=e.i(4130);function u(){let e=(0,d.usePathname)(),[u,h]=(0,a.useState)(!1),m=new c.default;return(0,a.useEffect)(()=>h(!0),[]),(0,t.jsx)("div",{className:"w-full flex items-center justify-center px-4 select-none",children:(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:8,scale:.98},animate:{opacity:+!!u,y:0,scale:1},transition:{duration:.2},className:"w-full max-w-3xl rounded-2xl border bg-[#F9F9F9] dark:bg-zinc-900/60 p-6 shadow-xl   backdrop-blur border-black/10 dark:border-zinc-800/60   text-zinc-800 dark:text-zinc-200",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"rounded-xl bg-red-500/10 p-2.5 ring-1 ring-inset ring-red-500/30",children:(0,t.jsx)(s.ShieldAlert,{className:"size-6 text-red-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:"ไม่มีสิทธิ์เข้าถึง (403)"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-zinc-800 dark:text-zinc-400",children:"คุณไม่ได้รับอนุญาตให้เข้าถึงทรัพยากรนี้ โปรดตรวจสอบสิทธิ์การใช้งานกับผู้ดูแลระบบ"})]})]}),(0,t.jsxs)("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-black/10 dark:border-zinc-800/60 bg-[#e3e3e3] dark:bg-zinc-900 p-4",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300 mb-2",children:"ตัวเลือกที่แนะนำ"}),(0,t.jsxs)("ol",{className:"space-y-2 text-sm text-zinc-400",children:[(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-200 text-xs border border-zinc-700",children:"Alt"}),(0,t.jsx)("span",{className:"text-zinc-500",children:"+"}),(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-200 text-xs border border-zinc-700",children:"←"}),(0,t.jsx)("span",{className:"ml-2 text-zinc-700 dark:text-zinc-300",children:"กลับหน้าก่อนหน้า"})]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-200 text-xs border border-zinc-700",children:"Ctrl"}),(0,t.jsx)("span",{className:"text-zinc-500",children:"+"}),(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-200 text-xs border border-zinc-700",children:"R"}),(0,t.jsx)("span",{className:"ml-2 text-zinc-700 dark:text-zinc-300",children:"รีเฟรชและลองใหม่"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-black/10 dark:border-zinc-800/60 bg-[#e3e3e3] dark:bg-zinc-900 p-4",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300 mb-2",children:"ข้อมูลเพิ่มเติม"}),(0,t.jsxs)("div",{className:"text-sm text-zinc-400",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-zinc-700 dark:text-zinc-400",children:"URL"}),(0,t.jsx)("span",{className:"truncate max-w-[60%] text-zinc-700 dark:text-zinc-300",children:e})]}),(0,t.jsxs)("div",{className:"mt-1 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-zinc-700 dark:text-zinc-400",children:"สถานะ"}),(0,t.jsx)("span",{className:"text-zinc-700 dark:text-zinc-300",children:"403 Forbidden"})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[(0,t.jsxs)(i.motion.div,{whileTap:{scale:.98},onClick:()=>{window.history.length>1?window.history.back():window.location.replace("/auth/login")},onMouseDown:e=>m.create(e),className:"inline-flex items-center gap-2 rounded-lg bg-zinc-200 px-4 py-2 font-semibold text-zinc-900   hover:bg-zinc-100 active:scale-[0.98] transition cursor-pointer   dark:bg-zinc-800 dark:text-zinc-100 dark:hover:bg-zinc-700",children:[(0,t.jsx)(r.ArrowLeft,{className:"size-4"}),"กลับหน้าก่อนหน้า"]}),(0,t.jsxs)(l.default,{draggable:!1,href:"/",prefetch:!1,replace:!0,className:"inline-flex items-center gap-2 rounded-lg bg-emerald-500 dark:bg-emerald-600 px-4 py-2 font-semibold text-white   hover:bg-emerald-400 dark:hover:bg-emerald-500 active:scale-[0.98] transition",children:[(0,t.jsx)(n.Home,{className:"size-4"}),"ไปหน้า Dashboard"]}),(0,t.jsxs)(l.default,{draggable:!1,href:"/auth/login",prefetch:!1,replace:!0,className:"inline-flex items-center gap-2 rounded-lg border border-zinc-700 px-4 py-2 font-semibold   text-zinc-900 hover:bg-zinc-200 dark:text-zinc-200 dark:hover:bg-zinc-800/60 active:scale-[0.98] transition",children:[(0,t.jsx)(o,{className:"size-4"}),"เข้าสู่ระบบ"]})]})]})})}},15862,e=>{"use strict";e.s(["useFormReset",()=>i]);var t=e.i(71645),a="undefined"!=typeof document?t.default.useLayoutEffect:()=>{};function i(e,i,l){let s=(0,t.useRef)(i),r=function(e){let i=(0,t.useRef)(null);return a(()=>{i.current=e},[e]),(0,t.useCallback)(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let l=i.current;return null==l?void 0:l(...t)},[])}(()=>{l&&l(s.current)});(0,t.useEffect)(()=>{var t;let a=null==(t=null==e?void 0:e.current)?void 0:t.form;return null==a||a.addEventListener("reset",r),()=>{null==a||a.removeEventListener("reset",r)}},[e,r])}},52315,e=>{"use strict";e.s(["CheckboxGroup",()=>y],52315);var t=e.i(95494),a=e.i(71645),i=e.i(59745),l=e.i(81931),s=e.i(69080),r=e.i(50179),n=e.i(94115),o=e.i(16231),d=e.i(75695),c=e.i(35190),u=e.i(19477),h=e.i(20253),m=e.i(75540),p=e.i(15944),x=e.i(13934),f=e.i(71363),g=e.i(48656),b=e.i(43476),v=(0,g.forwardRef)((e,g)=>{let{children:v,context:y,label:k,description:j,isInvalid:_,errorMessage:z,getGroupProps:w,getLabelProps:N,getWrapperProps:S,getDescriptionProps:C,getErrorMessageProps:D}=function(e){var f,g;let b=(0,t.useProviderContext)(),{validationBehavior:v}=(0,x.useSlottedContext)(p.FormContext)||{},{as:y,ref:k,classNames:j,children:_,label:z,radius:w,value:N,name:S,defaultValue:C,isInvalid:D,validationState:M,size:I="md",color:P="primary",orientation:F="vertical",lineThrough:T=!1,isDisabled:A=!1,validationBehavior:R=null!=(f=null!=v?v:null==b?void 0:b.validationBehavior)?f:"native",disableAnimation:W=null!=(g=null==b?void 0:b.disableAnimation)&&g,isReadOnly:B,isRequired:V,onValueChange:E,description:O,errorMessage:H,className:L,...U}=e,G=y||"div",q="string"==typeof G,K=(0,h.useDOMRef)(k),X=(0,a.useMemo)(()=>({...U,value:N,name:S,"aria-label":(0,m.safeAriaLabel)(U["aria-label"],z),defaultValue:C,isRequired:V,isReadOnly:B,orientation:F,validationBehavior:R,isInvalid:"invalid"===M||D,onChange:(0,m.chain)(e.onChange,E)}),[N,S,z,C,V,B,F,E,D,M,R,U["aria-label"],U]),Y=function(){var e,t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[l,s]=(0,c.useControlledState)(i.value,i.defaultValue||[],i.onChange),[r]=(0,a.useState)(l),n=!!i.isRequired&&0===l.length,o=(0,a.useRef)(new Map),u=(0,d.useFormValidationState)({...i,value:l}),h=u.displayValidation.isInvalid;return{...u,value:l,defaultValue:null!=(e=i.defaultValue)?e:r,setValue(e){i.isReadOnly||i.isDisabled||s(e)},isDisabled:i.isDisabled||!1,isReadOnly:i.isReadOnly||!1,isSelected:e=>l.includes(e),addValue(e){i.isReadOnly||i.isDisabled||l.includes(e)||s(l=l.concat(e))},removeValue(e){i.isReadOnly||i.isDisabled||l.includes(e)&&s(l.filter(t=>t!==e))},toggleValue(e){i.isReadOnly||i.isDisabled||(l.includes(e)?s(l.filter(t=>t!==e)):s(l.concat(e)))},setInvalid(e,t){let a=new Map(o.current);t.isInvalid?a.set(e,t):a.delete(e),o.current=a,u.updateValidation((0,d.mergeValidation)(...a.values()))},validationState:null!=(t=i.validationState)?t:h?"invalid":null,isInvalid:h,isRequired:n}}(X),{labelProps:J,groupProps:Q,descriptionProps:Z,errorMessageProps:$,validationErrors:ee,validationDetails:et}=function(e,t){let{isDisabled:a,name:i,form:d,validationBehavior:c="aria"}=e,{isInvalid:u,validationErrors:h,validationDetails:m}=t.displayValidation,{labelProps:p,fieldProps:x,descriptionProps:f,errorMessageProps:g}=(0,n.useField)({...e,labelElementType:"span",isInvalid:u,errorMessage:e.errorMessage||h});l.checkboxGroupData.set(t,{name:i,form:d,descriptionId:f.id,errorMessageId:g.id,validationBehavior:c});let b=(0,s.filterDOMProps)(e,{labelable:!0}),{focusWithinProps:v}=(0,o.useFocusWithin)({onBlurWithin:e.onBlur,onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange});return{groupProps:(0,r.mergeProps)(b,{role:"group","aria-disabled":a||void 0,...x,...v}),labelProps:p,descriptionProps:f,errorMessageProps:g,isInvalid:u,validationErrors:h,validationDetails:m}}(X,Y),ea=(0,a.useMemo)(()=>({size:I,color:P,radius:w,lineThrough:T,isInvalid:Y.isInvalid,isDisabled:A,disableAnimation:W,validationBehavior:R,groupState:Y}),[I,P,w,T,A,W,R,Y.value,Y.isDisabled,Y.isReadOnly,Y.isInvalid,Y.isSelected]),ei=(0,a.useMemo)(()=>(0,i.checkboxGroup)({isRequired:V,isInvalid:Y.isInvalid,disableAnimation:W}),[V,Y.isInvalid,,W]),el=(0,m.clsx)(null==j?void 0:j.base,L),es=(0,a.useCallback)(()=>({ref:K,className:ei.base({class:el}),...(0,m.mergeProps)(Q,(0,u.filterDOMProps)(U,{enabled:q}))}),[ei,K,el,Q,U]),er=(0,a.useCallback)(()=>({className:ei.label({class:null==j?void 0:j.label}),...J}),[ei,J,null==j?void 0:j.label]),en=(0,a.useCallback)(()=>({className:ei.wrapper({class:null==j?void 0:j.wrapper}),role:"presentation","data-orientation":F}),[ei,F,null==j?void 0:j.wrapper]),eo=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,...Z,className:ei.description({class:(0,m.clsx)(null==j?void 0:j.description,null==e?void 0:e.className)})}},[ei,Z,null==j?void 0:j.description]),ed=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,...$,className:ei.errorMessage({class:(0,m.clsx)(null==j?void 0:j.errorMessage,null==e?void 0:e.className)})}},[ei,$,null==j?void 0:j.errorMessage]);return{Component:G,children:_,label:z,context:ea,description:O,isInvalid:Y.isInvalid,errorMessage:"function"==typeof H?H({isInvalid:Y.isInvalid,validationErrors:ee,validationDetails:et}):H||(null==ee?void 0:ee.join(" ")),getGroupProps:es,getLabelProps:er,getWrapperProps:en,getDescriptionProps:eo,getErrorMessageProps:ed}}({...e,ref:g});return(0,b.jsxs)("div",{...w(),children:[k&&(0,b.jsx)("span",{...N(),children:k}),(0,b.jsx)("div",{...S(),children:(0,b.jsx)(f.CheckboxGroupProvider,{value:y,children:v})}),_&&z?(0,b.jsx)("div",{...D(),children:z}):j?(0,b.jsx)("div",{...C(),children:j}):null]})});v.displayName="HeroUI.CheckboxGroup";var y=v},16266,e=>{"use strict";e.s(["default",()=>c],16266);var t=e.i(43476),a=e.i(42976),i=e.i(35577),l=e.i(46399),s=e.i(75254);let r=(0,s.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),n=(0,s.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var o=e.i(78481),d=e.i(4130);function c(e){let{isEdit:s,data:c,id:u,isOpenEdit:h,title:m,hdlDelete:p}=e,x=new d.default;return(0,t.jsx)("div",{className:"w-full h-full py-1",children:(0,t.jsxs)("div",{className:"h-full flex gap-1.5 justify-center items-center",children:[(0,t.jsxs)(o.motion.button,{whileTap:{scale:.98},className:"h-full font-semibold dark:bg-zinc-700 bg-zinc-100 rounded-xl px-2 flex gap-0.5 items-center justify-center cursor-pointer hover:shadow",onClick:()=>{s(c),h(!0)},onMouseDown:e=>x.create(e),children:[(0,t.jsx)(r,{size:14}),"แก้ไข"]}),(0,t.jsxs)(a.Popover,{showArrow:!0,backdrop:"opaque",offset:10,placement:"bottom-end",children:[(0,t.jsx)(l.PopoverTrigger,{children:(0,t.jsxs)(o.motion.button,{whileTap:{scale:.98},onMouseUp:e=>x.create(e),className:"h-full text-white bg-rose-700 rounded-xl px-2 font-semibold cursor-pointer flex justify-center items-center gap-0.5 hover:shadow",children:[(0,t.jsx)(n,{size:14})," ลบ"]})}),(0,t.jsxs)(i.PopoverContent,{className:"flex flex-col gap-2 p-4",children:[(0,t.jsxs)("p",{className:"max-w-sm",children:['กด "ยืนยัน" เพื่อลบหัวข้อ " ',(0,t.jsx)("span",{className:"bg-amber-200 dark:bg-amber-600 px-1.5 rounded animate-pulse",children:m}),' " ออกจากระบบ']}),(0,t.jsx)(o.motion.button,{className:"w-full border border-rose-700 text-rose-700 font-semibold py-2 hover:bg-red-50 dark:hover:bg-rose-800 rounded-lg dark:bg-rose-700 dark:text-white cursor-pointer ",onMouseUp:e=>x.create(e),onClick:()=>p(u),children:"ยืนยัน"})]})]})]})})}},42833,e=>{"use strict";e.s(["default",()=>t]);let t=function(e){let{field:t,lockFn:a,highlightWhen:i="true",highlightColor:l="#303030",lockedColor:s="#ececec"}=e;return function(e){let r="function"==typeof a&&!!a(e.data,t),n=!1;if("function"==typeof i)n=!!i(e);else if("true"===i){let t;n=!0===(t=e.value)||1===t||"1"===t||"Y"===t||"y"===t||"true"===t}else"false"===i&&(n=!1===e.value||"0"===e.value||0===e.value);let o={display:"flex",justifyContent:"center",alignItems:"center",padding:0};return r?{...o,backgroundColor:s,cursor:"not-allowed",userSelect:"none"}:n?{...o,backgroundColor:l}:o}}},11759,e=>{"use strict";e.s(["default",()=>z],11759);var t=e.i(43476),a=e.i(20545),i=e.i(15879),l=e.i(71645),s=e.i(42833),r=e.i(78502),n=e.i(63178),o=e.i(78481),d=e.i(75935),c=e.i(4130),u=e.i(84735),h=e.i(52315),m=e.i(37727),p=e.i(56124),x=e.i(76220),f=e.i(67683);let g=["na_type","missing_type","no_type","follow_up_date_type",...Array.from({length:9},(e,t)=>"criterion_number_".concat(t+1,"_type")),"points_awarded_type","points_deducted_type"];function b(e){let{value:a,onChange:i}=e,l=g.every(e=>a.has(e)),s=!l&&g.some(e=>a.has(e));return(0,t.jsxs)("div",{className:"mt-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"font-semibold underline hidden sm:block",children:"ตัวเลือกเงื่อนไข"}),(0,t.jsx)(u.Checkbox,{isSelected:l,isIndeterminate:s,onChange:()=>{i(new Set(l?[]:g))},"aria-label":"เลือก/ยกเลิกทั้งหมด",size:"sm",children:"เลือกทั้งหมด"})]}),(0,t.jsxs)(h.CheckboxGroup,{"aria-label":"เลือกเงื่อนไขของหัวข้อ",value:Array.from(a),onChange:e=>i(new Set(e)),children:[(0,t.jsxs)("div",{className:"grid gap-2 grid-cols-1 xs:grid-cols-2 sm:grid-cols-3",children:[(0,t.jsx)(u.Checkbox,{value:"na_type",size:"sm",children:"NA"}),(0,t.jsx)(u.Checkbox,{value:"missing_type",size:"sm",children:"Missing"}),(0,t.jsx)(u.Checkbox,{value:"no_type",size:"sm",children:"No"})]}),(0,t.jsx)("div",{className:"grid gap-2 grid-cols-1 xs:grid-cols-2 sm:grid-cols-3",children:Array.from({length:9},(e,a)=>(0,t.jsxs)(u.Checkbox,{value:"criterion_number_".concat(a+1,"_type"),size:"sm",children:["เกณฑ์ ",a+1]},a))}),(0,t.jsxs)("div",{className:"grid gap-2 grid-cols-1 xs:grid-cols-2 sm:grid-cols-3",children:[(0,t.jsx)(u.Checkbox,{value:"points_awarded_type",size:"sm",children:"เพิ่มคะแนน"}),(0,t.jsx)(u.Checkbox,{value:"points_deducted_type",size:"sm",children:"หักคะแนน"}),(0,t.jsx)(u.Checkbox,{value:"follow_up_date_type",size:"sm",children:"กรอก follow up"})]})]}),(0,t.jsx)("p",{className:"mt-2 text-xs text-zinc-500",children:"ช่องที่ติ๊กถูก จะไปแสดงเป็นคอลัมน์ที่ต้องกรอกในตารางตรวจบันทึกเวชระเบียน"})]})}function v(e){let{isOpen:a,onClose:i,fetchPatient:s,onSubmit:r,loading:n,editValues:u,setEditValues:h}=e,[v,y]=(0,l.useState)(""),[k,j]=(0,l.useState)(new Set),[_,z]=(0,l.useState)(new Set),w=(0,l.useMemo)(()=>{var e;return null!=(e=Array.from(_)[0])?e:""},[_]),N=(0,l.useMemo)(()=>{let e={};for(let t of g)e[t]=k.has(t);return e},[k]);if((0,l.useEffect)(()=>{if(a)if(u){var e,t;y(null!=(t=u.content_of_medical_record_name)?t:""),z((null==(e=u.patient_services)?void 0:e.patient_service_id)?new Set([String(u.patient_services.patient_service_id)]):new Set),j(new Set(g.filter(e=>!!u[e])))}else y(""),z(new Set),j(new Set)},[a,u]),!a)return null;let S=new c.default,C=async e=>(e.preventDefault(),r(u?{content_of_medical_record_name:v,...N}:{content_of_medical_record_name:v,patient_service_id:w,...N})),D=!!u,M=n?"กำลังบันทึก...":D?"บันทึกการแก้ไข":"บันทึก",I=()=>{i(),y(""),z(new Set),j(new Set),h(null)};return(0,t.jsx)(o.motion.div,{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/30 dark:bg-black/5 backdrop-blur-xs px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onMouseDown:e=>{e.target===e.currentTarget&&I()},children:(0,t.jsxs)(o.motion.form,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{duration:.2,ease:"easeOut"},onSubmit:C,className:"bg-white dark:bg-[#181818] w-full max-w-lg rounded-2xl shadow-xl border border-zinc-200 dark:border-zinc-700",onMouseDown:e=>{e.target===e.currentTarget&&I()},children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-zinc-200 dark:border-zinc-700 px-4 py-2",children:[(0,t.jsxs)("h2",{className:"text-md font-semibold text-zinc-900 dark:text-zinc-100 flex gap-1",children:[(0,t.jsx)(d.ListFilterPlus,{})," ",D?"แก้ไขหัวข้อฟอร์ม":"เพิ่มหัวข้อฟอร์ม"]}),(0,t.jsx)(o.motion.button,{whileTap:{scale:.98},onClick:I,onMouseUp:e=>S.create(e),className:"p-1.5 rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800 cursor-pointer",children:(0,t.jsx)(m.X,{className:"w-5 h-5 text-zinc-600 dark:text-zinc-400"})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto px-6 py-4",children:[(0,t.jsx)(f.Input,{radius:"sm",isRequired:!0,label:"ชื่อหัวข้อ",labelPlacement:"outside-top",placeholder:"เช่น Consultation Record",onValueChange:e=>y(e),value:v}),(0,t.jsx)(p.Select,{selectionMode:"single",selectedKeys:_,onSelectionChange:z,disableSelectorIconRotation:!0,className:"w-full mt-2",radius:"sm",labelPlacement:"outside",placeholder:"เลือกแผนก",isRequired:!0,label:"เลือกแผนก",isDisabled:null!==u,children:null==s?void 0:s.map(e=>(0,t.jsx)(x.SelectItem,{children:"".concat(e.patient_service_name_english," - ").concat(e.patient_service_name_thai)},e.patient_service_id))}),(0,t.jsx)(b,{value:k,onChange:j})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 border-t border-zinc-200 dark:border-zinc-700 px-4 py-2",children:[(0,t.jsx)(o.motion.button,{whileTap:{scale:.98},onClick:I,onMouseUp:e=>S.create(e,"dark"),className:"cursor-pointer px-4 py-2 rounded-md text-sm bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-800 dark:text-zinc-100",children:"ยกเลิก"}),(0,t.jsx)(o.motion.button,{whileTap:{scale:.98},type:"submit",className:"cursor-pointer px-8 py-2 rounded-md text-sm bg-emerald-600 hover:bg-emerald-500 text-white disabled:opacity-50 disabled:cursor-not-allowed",onMouseUp:e=>S.create(e,"dark"),disabled:n,children:n?"กําลังบันทึก...":"".concat(M)})]})]})})}var y=e.i(36132),k=e.i(51497),j=e.i(78972),_=e.i(16266);function z(){let[e,u]=(0,l.useState)(localStorage.getItem("token")),{resolvedTheme:h}=(0,n.useTheme)(),[m,p]=(0,l.useState)(!1),[x,f]=(0,l.useState)(!1),[g,b]=(0,l.useState)(!1),[z,w]=(0,l.useState)(!1),[N,S]=(0,l.useState)(!1);new c.default;let{authLoading:C}=(0,i.default)(),[D,M]=(0,l.useState)(!1),[I,P]=(0,l.useState)(null),[F,T]=(0,l.useState)([]);(0,l.useEffect)(()=>p(!0),[]);let[A,R]=(0,l.useState)([]);if(null===localStorage.getItem("token"))return(0,t.jsx)(j.default,{});let W=async e=>{if(null!==I)return B(e);b(!0);try{let t=await a.default.post("/setting/comrc",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});200===t.status&&((0,y.addToast)({title:"สําเร็จ",description:t.data.message,timeout:8e3,color:"success",shouldShowTimeoutProgress:!0}),b(!1),O(),M(!1))}catch(e){console.log(e),(0,y.addToast)({title:"เกิดข้อผิดพลาด",description:e.response.data.message,timeout:8e3,color:"danger",shouldShowTimeoutProgress:!0}),b(!1)}},B=async e=>{S(!0);let{patient_service_id:t,...i}=e;try{let t=await a.default.put("/setting/comrc/".concat(I.content_of_medical_record_id),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});200===t.status&&((0,y.addToast)({title:"สําเร็จ",description:t.data.message,timeout:8e3,color:"success",shouldShowTimeoutProgress:!0}),O(),M(!1),P(null),S(!1))}catch(e){console.log(e),(0,y.addToast)({title:"เกิดข้อผิดพลาด",description:e.response.data.message,timeout:8e3,color:"danger",shouldShowTimeoutProgress:!0}),S(!1)}},V=async e=>{w(!0);try{let t=await a.default.delete("/setting/comrc/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});200===t.status&&((0,y.addToast)({title:"สําเร็จ",description:t.data.message,timeout:8e3,color:"success",shouldShowTimeoutProgress:!0}),w(!1),O())}catch(e){console.log(e),(0,y.addToast)({title:"เกิดข้อผิดพลาด",description:e.response.data.message,timeout:8e3,color:"danger",shouldShowTimeoutProgress:!0}),w(!1)}},E=[{field:"numeric_id",headerName:"ลำดับ",minWidth:80},{field:"content_of_medical_record_name",headerName:"หัวข้อ",valueGetter:e=>"".concat(e.data.priority,".").concat(e.data.content_of_medical_record_name),minWidth:200,suppressMenu:!0,filter:!0,floatingFilter:!0,suppressHeaderFilterButton:!0},{field:"follow_up_date_type",headerName:"Follow up",minWidth:100,cellStyle:(0,s.default)({field:"follow_up_date_type",lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:m&&"dark"===h?"#303030":"#D7D7D7"})},{field:"patient_service_name_english",headerName:"แผนก (EN-TH)",minWidth:220,suppressMenu:!0,valueGetter:e=>{var t,a,i,l,s,r;return[null!=(s=null==(a=e.data)||null==(t=a.patient_services)?void 0:t.patient_service_name_english)?s:"",null!=(r=null==(l=e.data)||null==(i=l.patient_services)?void 0:i.patient_service_name_thai)?r:""].filter(Boolean).join(" - ")},suppressMenu:!0,filter:!0,floatingFilter:!0,suppressHeaderFilterButton:!0},{field:"na_type",headerName:"NA",minWidth:60,cellStyle:(0,s.default)({field:"na_type",lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:m&&"dark"===h?"#303030":"#D7D7D7"})},{field:"missing_type",headerName:"Missing",minWidth:80,cellStyle:(0,s.default)({field:"missing_type",lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:m&&"dark"===h?"#303030":"#D7D7D7"})},{field:"no_type",headerName:"No",minWidth:60,cellStyle:(0,s.default)({field:"no_type",lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:m&&"dark"===h?"#303030":"#D7D7D7"})},...Array.from({length:9},(e,t)=>({field:"criterion_number_".concat(t+1,"_type"),headerName:"เกณฑ์ ".concat(t+1),minWidth:80,cellDataType:"boolean",cellStyle:(0,s.default)({field:"criterion_number_".concat(t+1,"_type"),lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:m&&"dark"===h?"#303030":"#D7D7D7"})})),{field:"points_awarded_type",headerName:"เพิ่มคะแนน",minWidth:100,cellStyle:(0,s.default)({field:"points_awarded_type",lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:m&&"dark"===h?"#303030":"#D7D7D7"})},{field:"points_deducted_type",headerName:"หักคะแนน",minWidth:100,cellStyle:(0,s.default)({field:"points_deducted_type",lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:m&&"dark"===h?"#303030":"#D7D7D7"})},{headerName:"ตัวเลือก",cellRenderer:e=>(0,t.jsx)(_.default,{isEdit:P,isOpenEdit:M,hdlDelete:V,data:e.data,title:e.data.content_of_medical_record_name,id:e.data.content_of_medical_record_id}),minWidth:130,maxWidth:130,pinned:"right",cellStyle:{display:"flex",justifyContent:"center",alignItems:"center",padding:0},sortable:!1}];(0,l.useEffect)(()=>{O(),H()},[]);let O=async()=>{f(!0);try{let e=(await a.default.get("/setting/comrc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data.data.map((e,t)=>({...e,numeric_id:t+1}));R(e),f(!1)}catch(e){console.log(e),f(!1),R([])}},H=async()=>{f(!0);try{let e=(await a.default.get("/setting/pts",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data.data.map((e,t)=>({...e,numeric_id:t+1}));T(e)}catch(e){console.log(e)}};return(0,t.jsxs)(t.Fragment,{children:[(g||z||N)&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center dark:bg-black/80 bg-white/40 backdrop-blur-sm",children:(0,t.jsx)(k.default,{title:g?"กําลังเพิ่มข้อมูล...":z?"กําลังลบข้อมูล...":"กําลังอัพเดตข้อมูล..."})}),(0,t.jsx)(v,{loading:g,isOpen:D,fetchPatient:F,onSubmit:W,onClose:()=>M(!1),editValues:I,setEditValues:P}),(0,t.jsx)("div",{className:"p-4 rounded-2xl border border-zinc-300 dark:border-[#505050] mb-4 bg-[#FAFAFB] dark:bg-[#181818]",children:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"หัวข้อฟอร์ม"}),(0,t.jsx)("p",{className:"text-xs text-rose-600 dark:text-rose-500 font-medium border-x-2 border-rose-600 pl-2 pr-6 py-1.5 bg-zinc-600/10",children:"* ช่องข้อมูลที่มีการ ติ๊กถูก คือช่องที่จะต้องกรอกข้อมูลในแบบฟอร์ม"})]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)(o.motion.button,{onClick:()=>M(!0),className:"flex gap-0.5 items-center px-3 py-2 text-sm cursor-pointer bg-emerald-600 text-white rounded-full hover:bg-emerald-500 dark:hover:bg-emerald-700",whileTap:{scale:.98},children:[(0,t.jsx)(d.ListFilterPlus,{size:18}),"เพิ่มหัวข้อ"]})})]})}),(0,t.jsx)(r.default,{columnDefs:E,rowData:A,loading:x,paginationPageSize:10})]})}},75977,e=>{e.v(t=>Promise.all(["static/chunks/f56ebfa37fbe636f.js"].map(t=>e.l(t))).then(()=>t(40588)))}]);