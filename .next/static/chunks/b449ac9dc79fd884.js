(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16266,e=>{"use strict";e.s(["default",()=>c],16266);var t=e.i(43476),a=e.i(42976),i=e.i(35577),r=e.i(46399),l=e.i(75254);let n=(0,l.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),s=(0,l.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var o=e.i(27682),d=e.i(46932);function c(e){let{isEdit:l,data:c,id:u,isOpenEdit:m,title:h,hdlDelete:f}=e,p=new o.default;return(0,t.jsx)("div",{className:"w-full h-full py-1",children:(0,t.jsxs)("div",{className:"h-full flex gap-1.5 justify-center items-center",children:[(0,t.jsxs)(d.motion.button,{whileTap:{scale:.98},className:"h-full font-semibold dark:bg-zinc-700 bg-zinc-100 rounded-xl px-2 flex gap-0.5 items-center justify-center cursor-pointer hover:shadow",onClick:()=>{l(c),m(!0)},onMouseDown:e=>p.create(e),children:[(0,t.jsx)(n,{size:14}),"แก้ไข"]}),(0,t.jsxs)(a.Popover,{showArrow:!0,backdrop:"opaque",offset:10,placement:"bottom-end",children:[(0,t.jsx)(r.PopoverTrigger,{children:(0,t.jsxs)(d.motion.button,{whileTap:{scale:.98},onMouseUp:e=>p.create(e),className:"h-full text-white bg-rose-700 rounded-xl px-2 font-semibold cursor-pointer flex justify-center items-center gap-0.5 hover:shadow",children:[(0,t.jsx)(s,{size:14})," ลบ"]})}),(0,t.jsxs)(i.PopoverContent,{className:"flex flex-col gap-2 p-4",children:[(0,t.jsxs)("p",{className:"max-w-sm",children:['กด "ยืนยัน" เพื่อลบหัวข้อ " ',(0,t.jsx)("span",{className:"bg-amber-200 dark:bg-amber-600 px-1.5 rounded animate-pulse",children:h}),' " ออกจากระบบ']}),(0,t.jsx)(d.motion.button,{className:"w-full border border-rose-700 text-rose-700 font-semibold py-2 hover:bg-red-50 dark:hover:bg-rose-800 rounded-lg dark:bg-rose-700 dark:text-white cursor-pointer ",onMouseUp:e=>p.create(e),onClick:()=>f(u),children:"ยืนยัน"})]})]})]})})}},15862,e=>{"use strict";e.s(["useFormReset",()=>i]);var t=e.i(71645),a="undefined"!=typeof document?t.default.useLayoutEffect:()=>{};function i(e,i,r){let l=(0,t.useRef)(i),n=function(e){let i=(0,t.useRef)(null);return a(()=>{i.current=e},[e]),(0,t.useCallback)(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let r=i.current;return null==r?void 0:r(...t)},[])}(()=>{r&&r(l.current)});(0,t.useEffect)(()=>{var t;let a=null==(t=null==e?void 0:e.current)?void 0:t.form;return null==a||a.addEventListener("reset",n),()=>{null==a||a.removeEventListener("reset",n)}},[e,n])}},27682,(e,t,a)=>{t.exports=class{isDarkContext(e){var t,a,i,r;if(document.documentElement.classList.contains("dark"))return!0;let l=e.closest("[data-theme]");return(null==l?void 0:l.getAttribute("data-theme"))==="dark"||null!=(r=null==(a=(i=window).matchMedia)||null==(t=a.call(i,"(prefers-color-scheme: dark)"))?void 0:t.matches)&&r}resolveColor(e,t){return t&&"auto"!==t?t:this.isDarkContext(e)?"dark":"light"}findFurthestPoint(e,t,a,i,r,l){return this.x=e-a>t/4?0:t,this.y=i-l>r/4?0:r,this.z=Math.hypot(this.x-(e-a),this.y-(i-l)),this.z}applyStyles(e,t,a,i,r){e.classList.add("ripple"),e.style.backgroundColor="dark"===t?"rgba(255,255,255,0.35)":"rgba(0,0,0,0.20)",e.style.borderRadius="100%",e.style.pointerEvents="none",e.style.position="absolute",e.style.left=r.clientX-a.left-i+"px",e.style.top=r.clientY-a.top-i+"px",e.style.width=e.style.height=2*i+"px",e.style.willChange="transform, opacity",e.style.transform="translateZ(0) scale(0.001)",e.style.opacity="1","dark"!==t&&(e.style.mixBlendMode="multiply")}applyAnimation(e){var t,a,i;let r=500*!(null==(a=(i=window).matchMedia)||null==(t=a.call(i,"(prefers-reduced-motion: reduce)"))?void 0:t.matches);requestAnimationFrame(()=>{e.animate([{transform:"translateZ(0) scale(0.001)",opacity:1},{transform:"translateZ(0) scale(1.5)",opacity:0}],{duration:r,easing:"linear",fill:"forwards"}).finished.finally(()=>e.remove())})}create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",a=e.currentTarget;if(!a)return;"static"===getComputedStyle(a).position&&(a.style.position="relative"),a.style.overflow="hidden",a.style.contain="paint",a.style.willChange="transform";let i=a.getBoundingClientRect(),r=this.findFurthestPoint(e.clientX,a.offsetWidth,i.left,e.clientY,a.offsetHeight,i.top),l=document.createElement("span"),n=this.resolveColor(a,t);this.applyStyles(l,n,i,r,e),this.applyAnimation(l),a.appendChild(l)}constructor(){this.x=0,this.y=0,this.z=0}}},51737,e=>{"use strict";e.s(["ShieldAlert",()=>t],51737);let t=(0,e.i(75254).default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},71689,e=>{"use strict";e.s(["ArrowLeft",()=>t],71689);let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},94351,e=>{"use strict";e.s(["Home",()=>t],94351);let t=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},78972,e=>{"use strict";e.s(["default",()=>u],78972);var t=e.i(43476),a=e.i(71645),i=e.i(46932),r=e.i(22016),l=e.i(51737),n=e.i(71689),s=e.i(94351);let o=(0,e.i(75254).default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var d=e.i(18566),c=e.i(27682);function u(){let e=(0,d.usePathname)(),[u,m]=(0,a.useState)(!1),h=new c.default;return(0,a.useEffect)(()=>m(!0),[]),(0,t.jsx)("div",{className:"w-full flex items-center justify-center px-4",children:(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:8,scale:.98},animate:{opacity:+!!u,y:0,scale:1},transition:{duration:.2},className:"w-full max-w-3xl rounded-2xl border bg-[#F9F9F9] dark:bg-zinc-900/60 p-6 shadow-xl   backdrop-blur border-black/10 dark:border-zinc-800/60   text-zinc-800 dark:text-zinc-200",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"rounded-xl bg-red-500/10 p-2.5 ring-1 ring-inset ring-red-500/30",children:(0,t.jsx)(l.ShieldAlert,{className:"size-6 text-red-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:"ไม่มีสิทธิ์เข้าถึง (403)"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-zinc-800 dark:text-zinc-400",children:"คุณไม่ได้รับอนุญาตให้เข้าถึงทรัพยากรนี้ โปรดตรวจสอบสิทธิ์การใช้งานกับผู้ดูแลระบบ"})]})]}),(0,t.jsxs)("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-black/10 dark:border-zinc-800/60 bg-[#e3e3e3] dark:bg-zinc-900 p-4",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300 mb-2",children:"ตัวเลือกที่แนะนำ"}),(0,t.jsxs)("ol",{className:"space-y-2 text-sm text-zinc-400",children:[(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-200 text-xs border border-zinc-700",children:"Alt"}),(0,t.jsx)("span",{className:"text-zinc-500",children:"+"}),(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-200 text-xs border border-zinc-700",children:"←"}),(0,t.jsx)("span",{className:"ml-2 text-zinc-700 dark:text-zinc-300",children:"กลับหน้าก่อนหน้า"})]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-200 text-xs border border-zinc-700",children:"Ctrl"}),(0,t.jsx)("span",{className:"text-zinc-500",children:"+"}),(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-200 text-xs border border-zinc-700",children:"R"}),(0,t.jsx)("span",{className:"ml-2 text-zinc-700 dark:text-zinc-300",children:"รีเฟรชและลองใหม่"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-black/10 dark:border-zinc-800/60 bg-[#e3e3e3] dark:bg-zinc-900 p-4",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300 mb-2",children:"ข้อมูลเพิ่มเติม"}),(0,t.jsxs)("div",{className:"text-sm text-zinc-400",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-zinc-700 dark:text-zinc-400",children:"URL"}),(0,t.jsx)("span",{className:"truncate max-w-[60%] text-zinc-700 dark:text-zinc-300",children:e})]}),(0,t.jsxs)("div",{className:"mt-1 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-zinc-700 dark:text-zinc-400",children:"สถานะ"}),(0,t.jsx)("span",{className:"text-zinc-700 dark:text-zinc-300",children:"403 Forbidden"})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[(0,t.jsxs)("button",{onClick:()=>{window.history.length>1?window.history.back():window.location.replace("/auth/login")},onMouseDown:e=>h.create(e),className:"inline-flex items-center gap-2 rounded-lg bg-zinc-200 px-4 py-2 font-semibold text-zinc-900   hover:bg-zinc-100 active:scale-[0.98] transition   dark:bg-zinc-800 dark:text-zinc-100 dark:hover:bg-zinc-700",children:[(0,t.jsx)(n.ArrowLeft,{className:"size-4"}),"กลับหน้าก่อนหน้า"]}),(0,t.jsxs)(r.default,{draggable:!1,href:"/mra",prefetch:!1,replace:!0,className:"inline-flex items-center gap-2 rounded-lg bg-emerald-500 px-4 py-2 font-semibold text-white   hover:bg-emerald-400 active:scale-[0.98] transition",children:[(0,t.jsx)(s.Home,{className:"size-4"}),"ไปหน้า Dashboard"]}),(0,t.jsxs)(r.default,{draggable:!1,href:"/auth/login",prefetch:!1,replace:!0,className:"inline-flex items-center gap-2 rounded-lg border border-zinc-700 px-4 py-2 font-semibold   text-zinc-900 hover:bg-zinc-200 dark:text-zinc-200 dark:hover:bg-zinc-800/60 active:scale-[0.98] transition",children:[(0,t.jsx)(o,{className:"size-4"}),"เข้าสู่ระบบ"]})]})]})})}},75695,e=>{"use strict";e.s(["DEFAULT_VALIDATION_RESULT",()=>r,"FormValidationContext",()=>l,"mergeValidation",()=>u,"privateValidationStateProp",()=>n,"useFormValidationState",()=>s]);var t=e.i(71645);let a={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},i={...a,customError:!0,valid:!1},r={isInvalid:!1,validationDetails:a,validationErrors:[]},l=(0,t.createContext)({}),n="__formValidationState"+Date.now();function s(e){if(e[n]){let{realtimeValidation:t,displayValidation:a,updateValidation:i,resetValidation:r,commitValidation:l}=e[n];return{realtimeValidation:t,displayValidation:a,updateValidation:i,resetValidation:r,commitValidation:l}}return function(e){let{isInvalid:a,validationState:n,name:s,value:u,builtinValidation:m,validate:h,validationBehavior:f="aria"}=e;n&&(a||(a="invalid"===n));let p=void 0!==a?{isInvalid:a,validationErrors:[],validationDetails:i}:null,x=(0,t.useMemo)(()=>h&&null!=u?d(function(e,t){if("function"==typeof e){let a=e(t);if(a&&"boolean"!=typeof a)return o(a)}return[]}(h,u)):null,[h,u]);(null==m?void 0:m.validationDetails.valid)&&(m=void 0);let v=(0,t.useContext)(l),g=(0,t.useMemo)(()=>s?Array.isArray(s)?s.flatMap(e=>o(v[e])):o(v[s]):[],[v,s]),[y,b]=(0,t.useState)(v),[k,j]=(0,t.useState)(!1);v!==y&&(b(v),j(!1));let w=(0,t.useMemo)(()=>d(k?[]:g),[k,g]),z=(0,t.useRef)(r),[_,N]=(0,t.useState)(r),S=(0,t.useRef)(r),[M,C]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{if(!M)return;C(!1);let e=x||m||z.current;c(e,S.current)||(S.current=e,N(e))}),{realtimeValidation:p||w||x||m||r,displayValidation:"native"===f?p||w||_:p||w||x||m||_,updateValidation(e){"aria"!==f||c(_,e)?z.current=e:N(e)},resetValidation(){c(r,S.current)||(S.current=r,N(r)),"native"===f&&C(!1),j(!0)},commitValidation(){"native"===f&&C(!0),j(!0)}}}(e)}function o(e){return e?Array.isArray(e)?e:[e]:[]}function d(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:i}:null}function c(e,t){return e===t||!!e&&!!t&&e.isInvalid===t.isInvalid&&e.validationErrors.length===t.validationErrors.length&&e.validationErrors.every((e,a)=>e===t.validationErrors[a])&&Object.entries(e.validationDetails).every(e=>{let[a,i]=e;return t.validationDetails[a]===i})}function u(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let r=new Set,l=!1,n={...a};for(let e of t){for(let t of e.validationErrors)r.add(t);for(let t in l||(l=e.isInvalid),n)n[t]||(n[t]=e.validationDetails[t])}return n.valid=!l,{isInvalid:l,validationErrors:[...r],validationDetails:n}}},48774,e=>{"use strict";e.s(["useFormValidation",()=>l]);var t=e.i(46996),a=e.i(71645),i=e.i(99661),r=e.i(91247);function l(e,l,n){let{validationBehavior:s,focus:o}=e;(0,i.useLayoutEffect)(()=>{if("native"===s&&(null==n?void 0:n.current)&&!n.current.disabled){var e;let t,a=l.realtimeValidation.isInvalid?l.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";n.current.setCustomValidity(a),n.current.hasAttribute("title")||(n.current.title=""),l.realtimeValidation.isInvalid||l.updateValidation({isInvalid:!(e=n.current).validity.valid,validationDetails:{badInput:(t=e.validity).badInput,customError:t.customError,patternMismatch:t.patternMismatch,rangeOverflow:t.rangeOverflow,rangeUnderflow:t.rangeUnderflow,stepMismatch:t.stepMismatch,tooLong:t.tooLong,tooShort:t.tooShort,typeMismatch:t.typeMismatch,valueMissing:t.valueMissing,valid:t.valid},validationErrors:e.validationMessage?[e.validationMessage]:[]})}});let d=(0,a.useRef)(!1),c=(0,r.useEffectEvent)(()=>{d.current||l.resetValidation()}),u=(0,r.useEffectEvent)(e=>{var a,i;l.displayValidation.isInvalid||l.commitValidation();let r=null==n||null==(a=n.current)?void 0:a.form;!e.defaultPrevented&&n&&r&&function(e){for(let t=0;t<e.elements.length;t++){let a=e.elements[t];if(!a.validity.valid)return a}return null}(r)===n.current&&(o?o():null==(i=n.current)||i.focus(),(0,t.setInteractionModality)("keyboard")),e.preventDefault()}),m=(0,r.useEffectEvent)(()=>{l.commitValidation()});(0,a.useEffect)(()=>{let e=null==n?void 0:n.current;if(!e)return;let t=e.form,a=null==t?void 0:t.reset;return t&&(t.reset=()=>{d.current=!window.event||"message"===window.event.type&&window.event.target instanceof MessagePort,null==a||a.call(t),d.current=!1}),e.addEventListener("invalid",u),e.addEventListener("change",m),null==t||t.addEventListener("reset",c),()=>{e.removeEventListener("invalid",u),e.removeEventListener("change",m),null==t||t.removeEventListener("reset",c),t&&(t.reset=a)}},[n,u,m,c,s])}},15944,13934,e=>{"use strict";e.s(["FormContext",()=>d],15944),e.s(["useContextProps",()=>l,"useSlottedContext",()=>r],13934);var t=e.i(71645),a=e.i(75540),i=Symbol("default");function r(e,a){let r=(0,t.useContext)(e);if(null===a)return null;if(r&&"object"==typeof r&&"slots"in r&&r.slots){let e=new Intl.ListFormat().format(Object.keys(r.slots).map(e=>'"'.concat(e,'"')));if(!a&&!r.slots[i])throw Error("A slot prop is required. Valid slot names are ".concat(e,"."));let t=a||i;if(!r.slots[t])throw Error('Invalid slot "'.concat(a,'". Valid slot names are ').concat(e,"."));return r.slots[t]}return r}function l(e,i,l){let{ref:n,...s}=r(l,e.slot)||{},o=function(e){let a=(0,t.useRef)(null),i=(0,t.useRef)(void 0),r=(0,t.useCallback)(t=>{if("function"==typeof e){let a=e(t);return()=>{"function"==typeof a?a():e(null)}}if(e)return e.current=t,()=>{e.current=null}},[e]);return(0,t.useMemo)(()=>({get current(){return a.current},set current(value){a.current=value,i.current&&(i.current(),i.current=void 0),null!=value&&(i.current=r(value))}}),[r])}((0,t.useMemo)(()=>(0,a.mergeRefs)(i,n),[i,n])),d=(0,a.mergeProps)(s,e);return"style"in s&&s.style&&"style"in e&&e.style&&("function"==typeof s.style||"function"==typeof e.style?d.style=t=>{let a="function"==typeof s.style?s.style(t):s.style,i={...t.defaultStyle,...a},r="function"==typeof e.style?e.style({...t,defaultStyle:i}):e.style;return{...i,...r}}:d.style={...s.style,...e.style}),[d,o]}var n=e.i(75695),s=(0,e.i(84898).tv)({base:"flex flex-col gap-2 items-start"}),o=e.i(43476),d=(0,t.createContext)(null);(0,t.forwardRef)(function(e,a){[e,a]=l(e,a,d);let{validationErrors:i,validationBehavior:r="native",children:c,className:u,...m}=e,h=(0,t.useMemo)(()=>s({className:u}),[u]);return(0,o.jsx)("form",{noValidate:"native"!==r,...m,ref:a,className:h,children:(0,o.jsx)(d.Provider,{value:{...e,validationBehavior:r},children:(0,o.jsx)(n.FormValidationContext.Provider,{value:null!=i?i:{},children:c})})})})},42833,e=>{"use strict";e.s(["default",()=>t]);let t=function(e){let{field:t,lockFn:a,highlightWhen:i="true",highlightColor:r="#303030",lockedColor:l="#ececec"}=e;return function(e){let n="function"==typeof a&&!!a(e.data,t),s=!1;if("function"==typeof i)s=!!i(e);else if("true"===i){let t;s=!0===(t=e.value)||1===t||"1"===t||"Y"===t||"y"===t||"true"===t}else"false"===i&&(s=!1===e.value||"0"===e.value||0===e.value);let o={display:"flex",justifyContent:"center",alignItems:"center",padding:0};return n?{...o,backgroundColor:l,cursor:"not-allowed",userSelect:"none"}:s?{...o,backgroundColor:r}:o}}},11759,e=>{"use strict";e.s(["default",()=>z],11759);var t=e.i(43476),a=e.i(20545),i=e.i(15879),r=e.i(71645),l=e.i(42833),n=e.i(78502),s=e.i(63178),o=e.i(46932),d=e.i(75935),c=e.i(27682),u=e.i(84735),m=e.i(52315),h=e.i(37727),f=e.i(56124),p=e.i(76220),x=e.i(212);let v=["na_type","missing_type","no_type",...Array.from({length:9},(e,t)=>"criterion_number_".concat(t+1,"_type")),"points_deducted_type"];function g(e){let{value:a,onChange:i}=e,r=v.every(e=>a.has(e)),l=!r&&v.some(e=>a.has(e));return(0,t.jsxs)("div",{className:"mt-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"font-semibold underline hidden sm:block",children:"ตัวเลือกเงื่อนไข"}),(0,t.jsx)(u.Checkbox,{isSelected:r,isIndeterminate:l,onChange:()=>{i(new Set(r?[]:v))},"aria-label":"เลือก/ยกเลิกทั้งหมด",size:"sm",children:"เลือกทั้งหมด"})]}),(0,t.jsxs)(m.CheckboxGroup,{"aria-label":"เลือกเงื่อนไขของหัวข้อ",value:Array.from(a),onChange:e=>i(new Set(e)),children:[(0,t.jsxs)("div",{className:"grid gap-2 grid-cols-1 xs:grid-cols-2 sm:grid-cols-3",children:[(0,t.jsx)(u.Checkbox,{value:"na_type",size:"sm",children:"NA"}),(0,t.jsx)(u.Checkbox,{value:"missing_type",size:"sm",children:"Missing"}),(0,t.jsx)(u.Checkbox,{value:"no_type",size:"sm",children:"No"})]}),(0,t.jsx)("div",{className:"grid gap-2 grid-cols-1 xs:grid-cols-2 sm:grid-cols-3",children:Array.from({length:9},(e,a)=>(0,t.jsxs)(u.Checkbox,{value:"criterion_number_".concat(a+1,"_type"),size:"sm",children:["เกณฑ์ ",a+1]},a))}),(0,t.jsx)(u.Checkbox,{value:"points_deducted_type",size:"sm",children:"หักคะแนน"})]}),(0,t.jsx)("p",{className:"mt-2 text-xs text-zinc-500",children:"ช่องที่ติ๊กถูก จะไปแสดงเป็นคอลัมน์ที่ต้องกรอกในตารางตรวจบันทึกเวชระเบียน"})]})}function y(e){let{isOpen:a,onClose:i,fetchPatient:l,onSubmit:n,loading:s,editValues:u,setEditValues:m}=e,[y,b]=(0,r.useState)(""),[k,j]=(0,r.useState)(new Set),[w,z]=(0,r.useState)(new Set);(0,r.useMemo)(()=>{var e;return null!=(e=Array.from(w)[0])?e:""},[w]);let _=(0,r.useMemo)(()=>{let e={};for(let t of v)e[t]=k.has(t);return e},[k]);if((0,r.useEffect)(()=>{if(a)if(u){var e,t;b(null!=(t=u.content_of_medical_record_name)?t:""),z((null==(e=u.patient_services)?void 0:e.patient_service_id)?new Set([String(u.patient_services.patient_service_id)]):new Set),j(new Set(v.filter(e=>!!u[e])))}else b(""),z(new Set),j(new Set)},[a,u]),!a)return null;let N=new c.default,S=async e=>(e.preventDefault(),n({content_of_medical_record_name:y,..._})),M=!!u,C=s?"กำลังบันทึก...":M?"บันทึกการแก้ไข":"บันทึก",E=()=>{i(),b(""),z(new Set),j(new Set),m(null)};return(0,t.jsx)(o.motion.div,{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/20 backdrop-blur-sm px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onMouseDown:e=>{e.target===e.currentTarget&&E()},children:(0,t.jsxs)(o.motion.form,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{duration:.2,ease:"easeOut"},onSubmit:S,className:"bg-white dark:bg-[#181818] w-full max-w-lg rounded-2xl shadow-xl border border-zinc-200 dark:border-zinc-700",onMouseDown:e=>{e.target===e.currentTarget&&E()},children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-zinc-200 dark:border-zinc-700 px-4 py-2",children:[(0,t.jsxs)("h2",{className:"text-md font-semibold text-zinc-900 dark:text-zinc-100 flex gap-1",children:[(0,t.jsx)(d.ListFilterPlus,{})," ",M?"แก้ไขหัวข้อฟอร์ม":"เพิ่มหัวข้อฟอร์ม"]}),(0,t.jsx)(o.motion.button,{whileTap:{scale:.98},onClick:E,onMouseUp:e=>N.create(e),className:"p-1.5 rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800 cursor-pointer",children:(0,t.jsx)(h.X,{className:"w-5 h-5 text-zinc-600 dark:text-zinc-400"})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto px-6 py-4",children:[(0,t.jsx)(x.Input,{radius:"sm",isRequired:!0,label:"ชื่อหัวข้อ",labelPlacement:"outside-top",placeholder:"เช่น Consultation Record",onValueChange:e=>b(e),value:y}),(0,t.jsx)(f.Select,{selectionMode:"single",selectedKeys:w,onSelectionChange:z,disableSelectorIconRotation:!0,className:"w-full mt-2",radius:"sm",labelPlacement:"outside",placeholder:"เลือกแผนก",isRequired:!0,label:"เลือกแผนก",isDisabled:null!==u,children:null==l?void 0:l.map(e=>(0,t.jsx)(p.SelectItem,{children:"".concat(e.patient_service_name_english," - ").concat(e.patient_service_name_thai)},e.patient_service_id))}),(0,t.jsx)(g,{value:k,onChange:j})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 border-t border-zinc-200 dark:border-zinc-700 px-4 py-2",children:[(0,t.jsx)(o.motion.button,{whileTap:{scale:.98},onClick:E,onMouseUp:e=>N.create(e,"dark"),className:"cursor-pointer px-4 py-2 rounded-md text-sm bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-800 dark:text-zinc-100",children:"ยกเลิก"}),(0,t.jsx)(o.motion.button,{whileTap:{scale:.98},type:"submit",className:"cursor-pointer px-8 py-2 rounded-md text-sm bg-emerald-600 hover:bg-emerald-500 text-white disabled:opacity-50 disabled:cursor-not-allowed",onMouseUp:e=>N.create(e,"dark"),disabled:s,children:s?"กําลังบันทึก...":"".concat(C)})]})]})})}var b=e.i(36132),k=e.i(51497),j=e.i(78972),w=e.i(16266);function z(){let[e,u]=(0,r.useState)(localStorage.getItem("token")),{resolvedTheme:m}=(0,s.useTheme)(),[h,f]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[v,g]=(0,r.useState)(!1),[z,_]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1);new c.default;let{authLoading:M}=(0,i.default)(),[C,E]=(0,r.useState)(!1),[V,D]=(0,r.useState)(null),[A,I]=(0,r.useState)([]);(0,r.useEffect)(()=>f(!0),[]);let[T,F]=(0,r.useState)([]);if(null===localStorage.getItem("token"))return(0,t.jsx)(j.default,{});let P=async e=>{if(null!==V)return L(e);g(!0);try{let t=await a.default.post("/setting/comrc",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});200===t.status&&((0,b.addToast)({title:"สําเร็จ",description:t.data.message,timeout:8e3,color:"success",shouldShowTimeoutProgress:!0}),g(!1),B(),E(!1))}catch(e){console.log(e),(0,b.addToast)({title:"เกิดข้อผิดพลาด",description:e.response.data.message,timeout:8e3,color:"danger",shouldShowTimeoutProgress:!0}),g(!1)}},L=async e=>{S(!0);try{let t=await a.default.put("/setting/comrc/".concat(V.content_of_medical_record_id),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});200===t.status&&((0,b.addToast)({title:"สําเร็จ",description:t.data.message,timeout:8e3,color:"success",shouldShowTimeoutProgress:!0}),B(),E(!1),D(null),S(!1))}catch(e){console.log(e),(0,b.addToast)({title:"เกิดข้อผิดพลาด",description:e.response.data.message,timeout:8e3,color:"danger",shouldShowTimeoutProgress:!0}),S(!1)}},R=async e=>{_(!0);try{let t=await a.default.delete("/setting/comrc/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});200===t.status&&((0,b.addToast)({title:"สําเร็จ",description:t.data.message,timeout:8e3,color:"success",shouldShowTimeoutProgress:!0}),_(!1),B())}catch(e){console.log(e),(0,b.addToast)({title:"เกิดข้อผิดพลาด",description:e.response.data.message,timeout:8e3,color:"danger",shouldShowTimeoutProgress:!0}),_(!1)}},W=[{field:"numeric_id",headerName:"ลำดับ",minWidth:80},{field:"content_of_medical_record_name",headerName:"หัวข้อ",valueGetter:e=>"".concat(e.data.priority,".").concat(e.data.content_of_medical_record_name),minWidth:200,suppressMenu:!0,filter:!0,floatingFilter:!0,suppressHeaderFilterButton:!0},{field:"patient_service_name_english",headerName:"แผนก (EN-TH)",minWidth:130,suppressMenu:!0,valueGetter:e=>{var t,a,i,r,l,n;return[null!=(l=null==(a=e.data)||null==(t=a.patient_services)?void 0:t.patient_service_name_english)?l:"",null!=(n=null==(r=e.data)||null==(i=r.patient_services)?void 0:i.patient_service_name_thai)?n:""].filter(Boolean).join(" - ")}},{field:"na_type",headerName:"NA",minWidth:60,cellStyle:(0,l.default)({field:"na_type",lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:h&&"dark"===m?"#303030":"#D7D7D7"})},{field:"missing_type",headerName:"Missing",minWidth:80,cellStyle:(0,l.default)({field:"missing_type",lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:h&&"dark"===m?"#303030":"#D7D7D7"})},{field:"no_type",headerName:"No",minWidth:60,cellStyle:(0,l.default)({field:"no_type",lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:h&&"dark"===m?"#303030":"#D7D7D7"})},...Array.from({length:9},(e,t)=>({field:"criterion_number_".concat(t+1,"_type"),headerName:"เกณฑ์ ".concat(t+1),minWidth:80,cellDataType:"boolean",cellStyle:(0,l.default)({field:"criterion_number_".concat(t+1,"_type"),lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:h&&"dark"===m?"#303030":"#D7D7D7"})})),{field:"points_deducted_type",headerName:"หักคะแนน",minWidth:100,cellStyle:(0,l.default)({field:"points_deducted_type",lockFn:(e,t)=>"true"===e[t],highlightWhen:"false",highlightColor:h&&"dark"===m?"#303030":"#D7D7D7"})},{headerName:"ตัวเลือก",cellRenderer:e=>(0,t.jsx)(w.default,{isEdit:D,isOpenEdit:E,hdlDelete:R,data:e.data,title:e.data.content_of_medical_record_name,id:e.data.content_of_medical_record_id}),minWidth:130,maxWidth:130,pinned:"right",cellStyle:{display:"flex",justifyContent:"center",alignItems:"center",padding:0},sortable:!1}];(0,r.useEffect)(()=>{B(),U()},[]);let B=async()=>{x(!0);try{let e=(await a.default.get("/setting/comrc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data.data.map((e,t)=>({...e,numeric_id:t+1}));F(e),x(!1)}catch(e){console.log(e),x(!1)}},U=async()=>{x(!0);try{let e=(await a.default.get("/setting/pts",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data.data.map((e,t)=>({...e,numeric_id:t+1}));I(e)}catch(e){console.log(e)}};return(0,t.jsxs)(t.Fragment,{children:[(v||z||N)&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center dark:bg-black/80 bg-white/40 backdrop-blur-sm",children:(0,t.jsx)(k.default,{title:v?"กําลังเพิ่มข้อมูล...":z?"กําลังลบข้อมูล...":"กําลังอัพเดตข้อมูล..."})}),(0,t.jsx)(y,{loading:v,isOpen:C,fetchPatient:A,onSubmit:P,onClose:()=>E(!1),editValues:V,setEditValues:D}),(0,t.jsx)("div",{className:"p-4 rounded-2xl border border-zinc-300 dark:border-[#505050] mb-4 bg-[#FAFAFB] dark:bg-[#181818]",children:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"หัวข้อฟอร์ม"}),(0,t.jsx)("p",{className:"text-xs text-rose-600 dark:text-rose-500 font-medium border-x-2 border-rose-600 pl-2 pr-6 py-1.5 bg-zinc-600/10",children:"* ช่องข้อมูลที่มีการ ติ๊กถูก คือช่องที่จะต้องกรอกข้อมูลในแบบฟอร์ม"})]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)(o.motion.button,{onClick:()=>E(!0),className:"flex gap-0.5 items-center px-3 py-2 text-sm cursor-pointer bg-emerald-600 text-white rounded-full hover:bg-emerald-500 dark:hover:bg-emerald-700",whileTap:{scale:.98},children:[(0,t.jsx)(d.ListFilterPlus,{size:18}),"เพิ่มหัวข้อ"]})})]})}),(0,t.jsx)(n.default,{columnDefs:W,rowData:T,loading:p})]})}},75977,e=>{e.v(t=>Promise.all(["static/chunks/f56ebfa37fbe636f.js"].map(t=>e.l(t))).then(()=>t(40588)))}]);