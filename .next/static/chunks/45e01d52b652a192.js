(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49050,e=>{"use strict";let t,n;e.s(["default",()=>e_],49050);var r=e.i(43476),l=e.i(71645),a=e.i(74780),o=e.i(42554);let i=(0,l.createContext)(null);i.displayName="PanelGroupContext";let s={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},u=l.useLayoutEffect,c=l["useId".toString()],d="function"==typeof c?c:()=>null,f=0;function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=d(),n=(0,l.useRef)(e||t||null);return null===n.current&&(n.current=""+f++),null!=e?e:n.current}function m(e){let{children:t,className:n="",collapsedSize:r,collapsible:a,defaultSize:o,forwardedRef:c,id:d,maxSize:f,minSize:m,onCollapse:h,onExpand:g,onResize:v,order:x,style:b,tagName:y="div",...w}=e,S=(0,l.useContext)(i);if(null===S)throw Error("Panel components must be rendered within a PanelGroup container");let{collapsePanel:z,expandPanel:k,getPanelSize:j,getPanelStyle:N,groupId:P,isPanelCollapsed:E,reevaluatePanelConstraints:C,registerPanel:I,resizePanel:R,unregisterPanel:D}=S,A=p(d),L=(0,l.useRef)({callbacks:{onCollapse:h,onExpand:g,onResize:v},constraints:{collapsedSize:r,collapsible:a,defaultSize:o,maxSize:f,minSize:m},id:A,idIsFromProps:void 0!==d,order:x});(0,l.useRef)({didLogMissingDefaultSizeWarning:!1}),u(()=>{let{callbacks:e,constraints:t}=L.current,n={...t};L.current.id=A,L.current.idIsFromProps=void 0!==d,L.current.order=x,e.onCollapse=h,e.onExpand=g,e.onResize=v,t.collapsedSize=r,t.collapsible=a,t.defaultSize=o,t.maxSize=f,t.minSize=m,(n.collapsedSize!==t.collapsedSize||n.collapsible!==t.collapsible||n.maxSize!==t.maxSize||n.minSize!==t.minSize)&&C(L.current,n)}),u(()=>{let e=L.current;return I(e),()=>{D(e)}},[x,A,I,D]),(0,l.useImperativeHandle)(c,()=>({collapse:()=>{z(L.current)},expand:e=>{k(L.current,e)},getId:()=>A,getSize:()=>j(L.current),isCollapsed:()=>E(L.current),isExpanded:()=>!E(L.current),resize:e=>{R(L.current,e)}}),[z,k,j,E,A,R]);let O=N(L.current,o);return(0,l.createElement)(y,{...w,children:t,className:n,id:A,style:{...O,...b},[s.groupId]:P,[s.panel]:"",[s.panelCollapsible]:a||void 0,[s.panelId]:A,[s.panelSize]:parseFloat(""+O.flexGrow).toFixed(1)})}let h=(0,l.forwardRef)((e,t)=>(0,l.createElement)(m,{...e,forwardedRef:t}));m.displayName="Panel",h.displayName="forwardRef(Panel)";let g=null,v=-1,x=null;function b(e,n,r){var l,a,o;let i=function(e,t,n){let r=(t&C)!=0,l=(t&I)!=0,a=(t&R)!=0,o=(t&D)!=0;if(t){if(r)if(a)return"se-resize";else if(o)return"ne-resize";else return"e-resize";else if(l)if(a)return"sw-resize";else if(o)return"nw-resize";else return"w-resize";else if(a)return"s-resize";else if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}(e,n,0);g!==i&&(g=i,null===x&&(x=document.createElement("style"),t&&x.setAttribute("nonce",t),document.head.appendChild(x)),v>=0&&(null==(o=x.sheet)||o.removeRule(v)),v=null!=(l=null==(a=x.sheet)?void 0:a.insertRule("*{cursor: ".concat(i," !important;}")))?l:-1)}function y(e){return"keydown"===e.type}function w(e){return e.type.startsWith("pointer")}function S(e){return e.type.startsWith("mouse")}function z(e){if(w(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(S(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}let k=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function j(e){let t=e.length;for(;t--;){let n=e[t];if(W(n,"Missing node"),function(e){let t=getComputedStyle(e);return!!("fixed"===t.position||"auto"!==t.zIndex&&("static"!==t.position||function(e){var t;let n=getComputedStyle(null!=(t=E(e))?t:e).display;return"flex"===n||"inline-flex"===n}(e))||1>+t.opacity||"transform"in t&&"none"!==t.transform||"webkitTransform"in t&&"none"!==t.webkitTransform||"mixBlendMode"in t&&"normal"!==t.mixBlendMode||"filter"in t&&"none"!==t.filter||"webkitFilter"in t&&"none"!==t.webkitFilter||"isolation"in t&&"isolate"===t.isolation||k.test(t.willChange))||"touch"===t.webkitOverflowScrolling}(n))return n}return null}function N(e){return e&&Number(getComputedStyle(e).zIndex)||0}function P(e){let t=[];for(;e;)t.push(e),e=E(e);return t}function E(e){let{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}let C=1,I=2,R=4,D=8,A="coarse"===function(){if("function"==typeof matchMedia)return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}(),L=[],O=!1,M=new Map,H=new Map,T=new Set;function F(e){let{target:t}=e,{x:n,y:r}=z(e);O=!0,Y({target:t,x:n,y:r}),K(),L.length>0&&(G("down",e),V(),e.preventDefault(),J(t)||e.stopImmediatePropagation())}function U(e){let{x:t,y:n}=z(e);if(O&&"pointerleave"!==e.type&&0===e.buttons&&(O=!1,G("up",e)),!O){let{target:r}=e;Y({target:r,x:t,y:n})}G("move",e),V(),L.length>0&&e.preventDefault()}function B(e){let{target:t}=e,{x:n,y:r}=z(e);H.clear(),O=!1,L.length>0&&(e.preventDefault(),J(t)||e.stopImmediatePropagation()),G("up",e),Y({target:t,x:n,y:r}),V(),K()}function J(e){let t=e;for(;t;){if(t.hasAttribute(s.resizeHandle))return!0;t=t.parentElement}return!1}function Y(e){let{target:t,x:n,y:r}=e;L.splice(0);let l=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(l=t),T.forEach(e=>{let{element:t,hitAreaMargins:a}=e,o=t.getBoundingClientRect(),{bottom:i,left:s,right:u,top:c}=o,d=A?a.coarse:a.fine;if(n>=s-d&&n<=u+d&&r>=c-d&&r<=i+d){if(null!==l&&document.contains(l)&&t!==l&&!t.contains(l)&&!l.contains(t)&&function(e,t){let n;if(e===t)throw Error("Cannot compare node with itself");let r={a:P(e),b:P(t)};for(;r.a.at(-1)===r.b.at(-1);)e=r.a.pop(),t=r.b.pop(),n=e;W(n,"Stacking order can only be calculated for elements with a common ancestor");let l={a:N(j(r.a)),b:N(j(r.b))};if(l.a===l.b){let e=n.childNodes,t={a:r.a.at(-1),b:r.b.at(-1)},l=e.length;for(;l--;){let n=e[l];if(n===t.a)return 1;if(n===t.b)return -1}}return Math.sign(l.a-l.b)}(l,t)>0){let e=l,n=!1;for(;e;){var f;if(e.contains(t))break;if(f=e.getBoundingClientRect(),f.x<o.x+o.width&&f.x+f.width>o.x&&f.y<o.y+o.height&&f.y+f.height>o.y){n=!0;break}e=e.parentElement}if(n)return}L.push(e)}})}function V(){let e=!1,t=!1;L.forEach(n=>{let{direction:r}=n;"horizontal"===r?e=!0:t=!0});let n=0;H.forEach(e=>{n|=e}),e&&t?b("intersection",n,O):e?b("horizontal",n,O):t?b("vertical",n,O):null!==x&&(document.head.removeChild(x),g=null,x=null,v=-1)}function K(){var e;null==(e=n)||e.abort();let t={capture:!0,signal:(n=new AbortController).signal};T.size&&(O?(L.length>0&&M.forEach((e,n)=>{let{body:r}=n;e>0&&(r.addEventListener("contextmenu",B,t),r.addEventListener("pointerleave",U,t),r.addEventListener("pointermove",U,t))}),M.forEach((e,n)=>{let{body:r}=n;r.addEventListener("pointerup",B,t),r.addEventListener("pointercancel",B,t)})):M.forEach((e,n)=>{let{body:r}=n;e>0&&(r.addEventListener("pointerdown",F,t),r.addEventListener("pointermove",U,t))}))}function G(e,t){T.forEach(n=>{let{setResizeHandlerState:r}=n;r(e,L.includes(n),t)})}function W(e,t){if(!e)throw console.error(t),Error(t)}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return 0===_(e,t,n)}function X(e,t,n){return 0===_(e,t,n)}function Q(e){let{panelConstraints:t,panelIndex:n,size:r}=e,l=t[n];W(null!=l,"Panel constraints not found for index ".concat(n));let{collapsedSize:a=0,collapsible:o,maxSize:i=100,minSize:s=0}=l;return 0>_(r,s)&&(r=o&&0>_(r,(a+s)/2)?a:s),r=parseFloat((r=Math.min(i,r)).toFixed(10))}function Z(e){let{delta:t,initialLayout:n,panelConstraints:r,pivotIndices:l,prevLayout:a,trigger:o}=e;if(X(t,0))return n;let i=[...n],[s,u]=l;W(null!=s,"Invalid first pivot index"),W(null!=u,"Invalid second pivot index");let c=0;if("keyboard"===o){{let e=t<0?u:s,l=r[e];W(l,"Panel constraints not found for index ".concat(e));let{collapsedSize:a=0,collapsible:o,minSize:i=0}=l;if(o){let r=n[e];if(W(null!=r,"Previous layout not found for panel index ".concat(e)),X(r,a)){let e=i-r;_(e,Math.abs(t))>0&&(t=t<0?0-e:e)}}}{let e=t<0?s:u,l=r[e];W(l,"No panel constraints found for index ".concat(e));let{collapsedSize:a=0,collapsible:o,minSize:i=0}=l;if(o){let r=n[e];if(W(null!=r,"Previous layout not found for panel index ".concat(e)),X(r,i)){let e=r-a;_(e,Math.abs(t))>0&&(t=t<0?0-e:e)}}}}{let e=t<0?1:-1,l=t<0?u:s,a=0;for(;;){let t=n[l];if(W(null!=t,"Previous layout not found for panel index ".concat(l)),a+=Q({panelConstraints:r,panelIndex:l,size:100})-t,(l+=e)<0||l>=r.length)break}let o=Math.min(Math.abs(t),Math.abs(a));t=t<0?0-o:o}{let e=t<0?s:u;for(;e>=0&&e<r.length;){let l=Math.abs(t)-Math.abs(c),a=n[e];W(null!=a,"Previous layout not found for panel index ".concat(e));let o=Q({panelConstraints:r,panelIndex:e,size:a-l});if(!X(a,o)&&(c+=a-o,i[e]=o,c.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?e--:e++}}if(function(e,t,n){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!X(e[n],t[n],void 0))return!1;return!0}(a,i))return a;{let e=t<0?u:s,l=n[e];W(null!=l,"Previous layout not found for panel index ".concat(e));let a=l+c,o=Q({panelConstraints:r,panelIndex:e,size:a});if(i[e]=o,!X(o,a)){let e=a-o,n=t<0?u:s;for(;n>=0&&n<r.length;){let l=i[n];W(null!=l,"Previous layout not found for panel index ".concat(n));let a=Q({panelConstraints:r,panelIndex:n,size:l+e});if(X(l,a)||(e-=a-l,i[n]=a),X(e,0))break;t>0?n--:n++}}}return X(i.reduce((e,t)=>t+e,0),100)?i:a}function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return Array.from(t.querySelectorAll("[".concat(s.resizeHandleId,'][data-panel-group-id="').concat(e,'"]')))}function ee(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r=$(e,n).findIndex(e=>e.getAttribute(s.resizeHandleId)===t);return null!=r?r:null}function et(e,t,n){let r=ee(e,t,n);return null!=r?[r,r+1]:[-1,-1]}function en(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if((t instanceof HTMLElement||"object"==typeof t&&null!==t&&"tagName"in t&&"getAttribute"in t)&&t.dataset.panelGroupId==e)return t;let n=t.querySelector('[data-panel-group][data-panel-group-id="'.concat(e,'"]'));return n||null}function er(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=t.querySelector("[".concat(s.resizeHandleId,'="').concat(e,'"]'));return n||null}function el(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ea(e,t){let{x:n,y:r}=z(t);return"horizontal"===e?n:r}function eo(e,t,n){t.forEach((t,r)=>{let l=e[r];W(l,"Panel data not found for index ".concat(r));let{callbacks:a,constraints:o,id:i}=l,{collapsedSize:s=0,collapsible:u}=o,c=n[i];if(null==c||t!==c){n[i]=t;let{onCollapse:e,onExpand:r,onResize:l}=a;l&&l(t,c),u&&(e||r)&&(r&&(null==c||q(c,s))&&!q(t,s)&&r(),e&&(null==c||!q(c,s))&&q(t,s)&&e())}})}function ei(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function es(e){try{if("undefined"!=typeof localStorage)e.getItem=e=>localStorage.getItem(e),e.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function eu(e){return"react-resizable-panels:".concat(e)}function ec(e){return e.map(e=>{let{constraints:t,id:n,idIsFromProps:r,order:l}=e;return r?n:l?"".concat(l,":").concat(JSON.stringify(t)):JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function ed(e,t){try{let n=eu(e),r=t.getItem(n);if(r){let e=JSON.parse(r);if("object"==typeof e&&null!=e)return e}}catch(e){}return null}function ef(e,t,n,r,l){var a;let o=eu(e),i=ec(t),s=null!=(a=ed(e,l))?a:{};s[i]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{l.setItem(o,JSON.stringify(s))}catch(e){console.error(e)}}function ep(e){let{layout:t,panelConstraints:n}=e,r=[...t],l=r.reduce((e,t)=>e+t,0);if(r.length!==n.length)throw Error("Invalid ".concat(n.length," panel layout: ").concat(r.map(e=>"".concat(e,"%")).join(", ")));if(!X(l,100)&&r.length>0)for(let e=0;e<n.length;e++){let t=r[e];W(null!=t,"No layout data found for index ".concat(e));let n=100/l*t;r[e]=n}let a=0;for(let e=0;e<n.length;e++){let t=r[e];W(null!=t,"No layout data found for index ".concat(e));let l=Q({panelConstraints:n,panelIndex:e,size:t});t!=l&&(a+=t-l,r[e]=l)}if(!X(a,0))for(let e=0;e<n.length;e++){let t=r[e];W(null!=t,"No layout data found for index ".concat(e));let l=Q({panelConstraints:n,panelIndex:e,size:t+a});if(t!==l&&(a-=l-t,r[e]=l,X(a,0)))break}return r}let em={getItem:e=>(es(em),em.getItem(e)),setItem:(e,t)=>{es(em),em.setItem(e,t)}},eh={};function eg(e){let{autoSaveId:t=null,children:n,className:r="",direction:a,forwardedRef:o,id:c=null,onLayout:d=null,keyboardResizeBy:f=null,storage:m=em,style:h,tagName:g="div",...v}=e,x=p(c),b=(0,l.useRef)(null),[z,k]=(0,l.useState)(null),[j,N]=(0,l.useState)([]),P=function(){let[e,t]=(0,l.useState)(0);return(0,l.useCallback)(()=>t(e=>e+1),[])}(),E=(0,l.useRef)({}),A=(0,l.useRef)(new Map),L=(0,l.useRef)(0),O=(0,l.useRef)({autoSaveId:t,direction:a,dragState:z,id:x,keyboardResizeBy:f,onLayout:d,storage:m}),M=(0,l.useRef)({layout:j,panelDataArray:[],panelDataArrayChanged:!1});(0,l.useRef)({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),(0,l.useImperativeHandle)(o,()=>({getId:()=>O.current.id,getLayout:()=>{let{layout:e}=M.current;return e},setLayout:e=>{let{onLayout:t}=O.current,{layout:n,panelDataArray:r}=M.current,l=ep({layout:e,panelConstraints:r.map(e=>e.constraints)});el(n,l)||(N(l),M.current.layout=l,t&&t(l),eo(r,l,E.current))}}),[]),u(()=>{O.current.autoSaveId=t,O.current.direction=a,O.current.dragState=z,O.current.id=x,O.current.onLayout=d,O.current.storage=m}),function(e){let{committedValuesRef:t,eagerValuesRef:n,groupId:r,layout:a,panelDataArray:o,panelGroupElement:i,setLayout:c}=e;(0,l.useRef)({didWarnAboutMissingResizeHandle:!1}),u(()=>{if(!i)return;let e=$(r,i);for(let t=0;t<o.length-1;t++){let{valueMax:n,valueMin:r,valueNow:l}=function(e){let{layout:t,panelsArray:n,pivotIndices:r}=e,l=0,a=100,o=0,i=0,s=r[0];return W(null!=s,"No pivot index found"),n.forEach((e,t)=>{let{constraints:n}=e,{maxSize:r=100,minSize:u=0}=n;t===s?(l=u,a=r):(o+=u,i+=r)}),{valueMax:Math.min(a,100-o),valueMin:Math.max(l,100-i),valueNow:t[s]}}({layout:a,panelsArray:o,pivotIndices:[t,t+1]}),i=e[t];if(null==i);else{let e=o[t];W(e,'No panel data found for index "'.concat(t,'"')),i.setAttribute("aria-controls",e.id),i.setAttribute("aria-valuemax",""+Math.round(n)),i.setAttribute("aria-valuemin",""+Math.round(r)),i.setAttribute("aria-valuenow",null!=l?""+Math.round(l):"")}}return()=>{e.forEach((e,t)=>{e.removeAttribute("aria-controls"),e.removeAttribute("aria-valuemax"),e.removeAttribute("aria-valuemin"),e.removeAttribute("aria-valuenow")})}},[r,a,o,i]),(0,l.useEffect)(()=>{if(!i)return;let e=n.current;W(e,"Eager values not found");let{panelDataArray:t}=e;W(null!=en(r,i),'No group found for id "'.concat(r,'"'));let l=$(r,i);W(l,'No resize handles found for group id "'.concat(r,'"'));let o=l.map(e=>{let n=e.getAttribute(s.resizeHandleId);W(n,"Resize handle element has no handle id attribute");let[l,o]=function(e,t,n){var r,l,a,o;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document,s=er(t,i),u=$(e,i),c=s?u.indexOf(s):-1;return[null!=(r=null==(l=n[c])?void 0:l.id)?r:null,null!=(a=null==(o=n[c+1])?void 0:o.id)?a:null]}(r,n,t,i);if(null==l||null==o)return()=>{};let u=e=>{if(!e.defaultPrevented&&"Enter"===e.key){e.preventDefault();let o=t.findIndex(e=>e.id===l);if(o>=0){let e=t[o];W(e,"No panel data found for index ".concat(o));let l=a[o],{collapsedSize:s=0,collapsible:u,minSize:d=0}=e.constraints;if(null!=l&&u){let e=Z({delta:X(l,s)?d-s:s-l,initialLayout:a,panelConstraints:t.map(e=>e.constraints),pivotIndices:et(r,n,i),prevLayout:a,trigger:"keyboard"});a!==e&&c(e)}}}};return e.addEventListener("keydown",u),()=>{e.removeEventListener("keydown",u)}});return()=>{o.forEach(e=>e())}},[i,t,n,r,a,o,c])}({committedValuesRef:O,eagerValuesRef:M,groupId:x,layout:j,panelDataArray:M.current.panelDataArray,setLayout:N,panelGroupElement:b.current}),(0,l.useEffect)(()=>{let{panelDataArray:e}=M.current;if(t){if(0===j.length||j.length!==e.length)return;let n=eh[t];null==n&&(n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return function(){for(var r=arguments.length,l=Array(r),a=0;a<r;a++)l[a]=arguments[a];null!==n&&clearTimeout(n),n=setTimeout(()=>{e(...l)},t)}}(ef,100),eh[t]=n),n(t,[...e],new Map(A.current),j,m)}},[t,j,m]),(0,l.useEffect)(()=>{});let T=(0,l.useCallback)(e=>{let{onLayout:t}=O.current,{layout:n,panelDataArray:r}=M.current;if(e.constraints.collapsible){let l=r.map(e=>e.constraints),{collapsedSize:a=0,panelSize:o,pivotIndices:i}=eb(r,e,n);if(W(null!=o,'Panel size not found for panel "'.concat(e.id,'"')),!q(o,a)){A.current.set(e.id,o);let s=Z({delta:ex(r,e)===r.length-1?o-a:a-o,initialLayout:n,panelConstraints:l,pivotIndices:i,prevLayout:n,trigger:"imperative-api"});ei(n,s)||(N(s),M.current.layout=s,t&&t(s),eo(r,s,E.current))}}},[]),F=(0,l.useCallback)((e,t)=>{let{onLayout:n}=O.current,{layout:r,panelDataArray:l}=M.current;if(e.constraints.collapsible){let a=l.map(e=>e.constraints),{collapsedSize:o=0,panelSize:i=0,minSize:s=0,pivotIndices:u}=eb(l,e,r),c=null!=t?t:s;if(q(i,o)){let t=A.current.get(e.id),o=null!=t&&t>=c?t:c,s=Z({delta:ex(l,e)===l.length-1?i-o:o-i,initialLayout:r,panelConstraints:a,pivotIndices:u,prevLayout:r,trigger:"imperative-api"});ei(r,s)||(N(s),M.current.layout=s,n&&n(s),eo(l,s,E.current))}}},[]),U=(0,l.useCallback)(e=>{let{layout:t,panelDataArray:n}=M.current,{panelSize:r}=eb(n,e,t);return W(null!=r,'Panel size not found for panel "'.concat(e.id,'"')),r},[]),B=(0,l.useCallback)((e,t)=>{let{panelDataArray:n}=M.current,r=ex(n,e);return function(e){let{defaultSize:t,dragState:n,layout:r,panelData:l,panelIndex:a,precision:o=3}=e,i=r[a];return{flexBasis:0,flexGrow:null==i?void 0!=t?t.toFixed(o):"1":1===l.length?"1":i.toFixed(o),flexShrink:1,overflow:"hidden",pointerEvents:null!==n?"none":void 0}}({defaultSize:t,dragState:z,layout:j,panelData:n,panelIndex:r})},[z,j]),J=(0,l.useCallback)(e=>{let{layout:t,panelDataArray:n}=M.current,{collapsedSize:r=0,collapsible:l,panelSize:a}=eb(n,e,t);return W(null!=a,'Panel size not found for panel "'.concat(e.id,'"')),!0===l&&q(a,r)},[]),Y=(0,l.useCallback)(e=>{let{layout:t,panelDataArray:n}=M.current,{collapsedSize:r=0,collapsible:l,panelSize:a}=eb(n,e,t);return W(null!=a,'Panel size not found for panel "'.concat(e.id,'"')),!l||_(a,r)>0},[]),V=(0,l.useCallback)(e=>{let{panelDataArray:t}=M.current;t.push(e),t.sort((e,t)=>{let n=e.order,r=t.order;return null==n&&null==r?0:null==n?-1:null==r?1:n-r}),M.current.panelDataArrayChanged=!0,P()},[P]);u(()=>{if(M.current.panelDataArrayChanged){M.current.panelDataArrayChanged=!1;let{autoSaveId:l,onLayout:a,storage:o}=O.current,{layout:i,panelDataArray:s}=M.current,u=null;if(l){var e,t,n,r;let a=(e=l,t=s,null!=(r=(null!=(n=ed(e,o))?n:{})[ec(t)])?r:null);a&&(A.current=new Map(Object.entries(a.expandToSizes)),u=a.layout)}null==u&&(u=function(e){let{panelDataArray:t}=e,n=Array(t.length),r=t.map(e=>e.constraints),l=0,a=100;for(let e=0;e<t.length;e++){let t=r[e];W(t,"Panel constraints not found for index ".concat(e));let{defaultSize:o}=t;null!=o&&(l++,n[e]=o,a-=o)}for(let e=0;e<t.length;e++){let o=r[e];W(o,"Panel constraints not found for index ".concat(e));let{defaultSize:i}=o;if(null!=i)continue;let s=a/(t.length-l);l++,n[e]=s,a-=s}return n}({panelDataArray:s}));let c=ep({layout:u,panelConstraints:s.map(e=>e.constraints)});el(i,c)||(N(c),M.current.layout=c,a&&a(c),eo(s,c,E.current))}}),u(()=>{let e=M.current;return()=>{e.layout=[]}},[]);let K=(0,l.useCallback)(e=>{let t=!1,n=b.current;return n&&"rtl"===window.getComputedStyle(n,null).getPropertyValue("direction")&&(t=!0),function(n){var r,l;n.preventDefault();let a=b.current;if(!a)return()=>null;let{direction:o,dragState:i,id:u,keyboardResizeBy:c,onLayout:d}=O.current,{layout:f,panelDataArray:p}=M.current,{initialLayout:m}=null!=i?i:{},h=et(u,e,a),g=function(e,t,n,r,l,a){if(y(e)){let t="horizontal"===n,r=0;r=e.shiftKey?100:null!=l?l:10;let a=0;switch(e.key){case"ArrowDown":a=t?0:r;break;case"ArrowLeft":a=t?-r:0;break;case"ArrowRight":a=t?r:0;break;case"ArrowUp":a=t?0:-r;break;case"End":a=100;break;case"Home":a=-100}return a}return null==r?0:function(e,t,n,r,l){let a="horizontal"===n,o=er(t,l);W(o,'No resize handle element found for id "'.concat(t,'"'));let i=o.getAttribute(s.groupId);W(i,"Resize handle element has no group id attribute");let{initialCursorPosition:u}=r,c=ea(n,e),d=en(i,l);W(d,'No group element found for id "'.concat(i,'"'));let f=d.getBoundingClientRect();return(c-u)/(a?f.width:f.height)*100}(e,t,n,r,a)}(n,e,o,i,c,a),v="horizontal"===o;v&&t&&(g=-g);let x=Z({delta:g,initialLayout:null!=m?m:f,panelConstraints:p.map(e=>e.constraints),pivotIndices:h,prevLayout:f,trigger:y(n)?"keyboard":"mouse-or-touch"}),z=!ei(f,x);(w(n)||S(n))&&L.current!=g&&((L.current=g,z||0===g)?H.set(e,0):v?(r=g<0?C:I,H.set(e,r)):(l=g<0?R:D,H.set(e,l))),z&&(N(x),M.current.layout=x,d&&d(x),eo(p,x,E.current))}},[]),G=(0,l.useCallback)((e,t)=>{let{onLayout:n}=O.current,{layout:r,panelDataArray:l}=M.current,a=l.map(e=>e.constraints),{panelSize:o,pivotIndices:i}=eb(l,e,r);W(null!=o,'Panel size not found for panel "'.concat(e.id,'"'));let s=Z({delta:ex(l,e)===l.length-1?o-t:t-o,initialLayout:r,panelConstraints:a,pivotIndices:i,prevLayout:r,trigger:"imperative-api"});ei(r,s)||(N(s),M.current.layout=s,n&&n(s),eo(l,s,E.current))},[]),Q=(0,l.useCallback)((e,t)=>{let{layout:n,panelDataArray:r}=M.current,{collapsedSize:l=0,collapsible:a}=t,{collapsedSize:o=0,collapsible:i,maxSize:s=100,minSize:u=0}=e.constraints,{panelSize:c}=eb(r,e,n);null!=c&&(a&&i&&q(c,l)?q(l,o)||G(e,o):c<u?G(e,u):c>s&&G(e,s))},[G]),ee=(0,l.useCallback)((e,t)=>{let{direction:n}=O.current,{layout:r}=M.current;if(!b.current)return;let l=er(e,b.current);W(l,'Drag handle element not found for id "'.concat(e,'"'));let a=ea(n,t);k({dragHandleId:e,dragHandleRect:l.getBoundingClientRect(),initialCursorPosition:a,initialLayout:r})},[]),es=(0,l.useCallback)(()=>{k(null)},[]),eu=(0,l.useCallback)(e=>{let{panelDataArray:t}=M.current,n=ex(t,e);n>=0&&(t.splice(n,1),delete E.current[e.id],M.current.panelDataArrayChanged=!0,P())},[P]),eg=(0,l.useMemo)(()=>({collapsePanel:T,direction:a,dragState:z,expandPanel:F,getPanelSize:U,getPanelStyle:B,groupId:x,isPanelCollapsed:J,isPanelExpanded:Y,reevaluatePanelConstraints:Q,registerPanel:V,registerResizeHandle:K,resizePanel:G,startDragging:ee,stopDragging:es,unregisterPanel:eu,panelGroupElement:b.current}),[T,z,a,F,U,B,x,J,Y,Q,V,K,G,ee,es,eu]);return(0,l.createElement)(i.Provider,{value:eg},(0,l.createElement)(g,{...v,children:n,className:r,id:c,ref:b,style:{display:"flex",flexDirection:"horizontal"===a?"row":"column",height:"100%",overflow:"hidden",width:"100%",...h},[s.group]:"",[s.groupDirection]:a,[s.groupId]:x}))}let ev=(0,l.forwardRef)((e,t)=>(0,l.createElement)(eg,{...e,forwardedRef:t}));function ex(e,t){return e.findIndex(e=>e===t||e.id===t.id)}function eb(e,t,n){let r=ex(e,t),l=r===e.length-1,a=n[r];return{...t.constraints,panelSize:a,pivotIndices:l?[r-1,r]:[r,r+1]}}function ey(e){var t,n;let{children:r=null,className:a="",disabled:o=!1,hitAreaMargins:c,id:d,onBlur:f,onClick:m,onDragging:h,onFocus:g,onPointerDown:v,onPointerUp:x,style:b={},tabIndex:y=0,tagName:w="div",...S}=e,z=(0,l.useRef)(null),k=(0,l.useRef)({onClick:m,onDragging:h,onPointerDown:v,onPointerUp:x});(0,l.useEffect)(()=>{k.current.onClick=m,k.current.onDragging=h,k.current.onPointerDown=v,k.current.onPointerUp=x});let j=(0,l.useContext)(i);if(null===j)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");let{direction:N,groupId:P,registerResizeHandle:E,startDragging:C,stopDragging:I,panelGroupElement:R}=j,D=p(d),[A,O]=(0,l.useState)("inactive"),[F,U]=(0,l.useState)(!1),[B,J]=(0,l.useState)(null),Y=(0,l.useRef)({state:A});u(()=>{Y.current.state=A}),(0,l.useEffect)(()=>{if(o)J(null);else{let e=E(D);J(()=>e)}},[o,D,E]);let G=null!=(t=null==c?void 0:c.coarse)?t:15,_=null!=(n=null==c?void 0:c.fine)?n:5;return(0,l.useEffect)(()=>{if(o||null==B)return;let e=z.current;W(e,"Element ref not attached");let t=!1;return function(e,t,n,r,l){var a;let{ownerDocument:o}=t,i={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:l},s=null!=(a=M.get(o))?a:0;return M.set(o,s+1),T.add(i),K(),function(){var t;H.delete(e),T.delete(i);let n=null!=(t=M.get(o))?t:1;if(M.set(o,n-1),K(),1===n&&M.delete(o),L.includes(i)){let e=L.indexOf(i);e>=0&&L.splice(e,1),V(),l("up",!0,null)}}}(D,e,N,{coarse:G,fine:_},(e,n,r)=>{if(!n)return void O("inactive");switch(e){case"down":{O("drag"),t=!1,W(r,'Expected event to be defined for "down" action'),C(D,r);let{onDragging:e,onPointerDown:n}=k.current;null==e||e(!0),null==n||n();break}case"move":{let{state:e}=Y.current;t=!0,"drag"!==e&&O("hover"),W(r,'Expected event to be defined for "move" action'),B(r);break}case"up":{O("hover"),I();let{onClick:e,onDragging:n,onPointerUp:r}=k.current;null==n||n(!1),null==r||r(),t||null==e||e()}}})},[G,N,o,_,E,D,B,C,I]),!function(e){let{disabled:t,handleId:n,resizeHandler:r,panelGroupElement:a}=e;(0,l.useEffect)(()=>{if(t||null==r||null==a)return;let e=er(n,a);if(null==e)return;let l=t=>{if(!t.defaultPrevented)switch(t.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":t.preventDefault(),r(t);break;case"F6":{t.preventDefault();let r=e.getAttribute(s.groupId);W(r,'No group element found for id "'.concat(r,'"'));let l=$(r,a),o=ee(r,n,a);W(null!==o,'No resize element found for id "'.concat(n,'"'));let i=t.shiftKey?o>0?o-1:l.length-1:o+1<l.length?o+1:0;l[i].focus()}}};return e.addEventListener("keydown",l),()=>{e.removeEventListener("keydown",l)}},[a,t,n,r])}({disabled:o,handleId:D,resizeHandler:B,panelGroupElement:R}),(0,l.createElement)(w,{...S,children:r,className:a,id:d,onBlur:()=>{U(!1),null==f||f()},onFocus:()=>{U(!0),null==g||g()},ref:z,role:"separator",style:{touchAction:"none",userSelect:"none",...b},tabIndex:y,[s.groupDirection]:N,[s.groupId]:P,[s.resizeHandle]:"",[s.resizeHandleActive]:"drag"===A?"pointer":F?"keyboard":void 0,[s.resizeHandleEnabled]:!o,[s.resizeHandleId]:D,[s.resizeHandleState]:A})}eg.displayName="PanelGroup",ev.displayName="forwardRef(PanelGroup)",ey.displayName="PanelResizeHandle";var ew=e.i(62715),eS=e.i(63790),ez=e.i(35889),ek=e.i(64925),ej=e.i(73830),eN=e.i(84898),eP=(0,eN.tv)({slots:{base:["px-1.5","py-0.5","inline-flex","space-x-0.5","rtl:space-x-reverse","items-center","font-sans","font-normal","text-center","text-small","shadow-small","bg-default-100","text-foreground-600","rounded-small"],abbr:"no-underline",content:""},variants:{},defaultVariants:{}}),eE=e.i(75540),eC={command:"⌘",shift:"⇧",ctrl:"⌃",option:"⌥",enter:"↵",delete:"⌫",escape:"⎋",tab:"⇥",capslock:"⇪",up:"↑",right:"→",down:"↓",left:"←",pageup:"⇞",pagedown:"⇟",home:"↖",end:"↘",help:"?",space:"␣",fn:"Fn",win:"⌘",alt:"⌥"},eI={command:"Command",shift:"Shift",ctrl:"Control",option:"Option",enter:"Enter",delete:"Delete",escape:"Escape",tab:"Tab",capslock:"Caps Lock",up:"Up",right:"Right",down:"Down",left:"Left",pageup:"Page Up",pagedown:"Page Down",home:"Home",end:"End",help:"Help",space:"Space",fn:"Fn",win:"Win",alt:"Alt"},eR=(0,ej.forwardRef)((e,t)=>{let{Component:n,children:a,slots:o,classNames:i,keysToRender:s,getKbdProps:u}=function(e){let[t,n]=(0,ej.mapPropsVariants)(e,eP.variantKeys),{as:r,children:a,className:o,keys:i,title:s,classNames:u,...c}=t,d=(0,l.useMemo)(()=>eP({...n}),[(0,eE.objectToDeps)(n)]),f=(0,eE.clsx)(null==u?void 0:u.base,o);return{Component:r||"kbd",slots:d,classNames:u,title:s,children:a,keysToRender:"string"==typeof i?[i]:Array.isArray(i)?i:[],getKbdProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...c,...e,className:(0,eE.clsx)(d.base({class:(0,eE.clsx)(f,e.className)}))}}}}({...e}),c=(0,l.useMemo)(()=>s.map(e=>(0,r.jsx)("abbr",{className:o.abbr({class:null==i?void 0:i.abbr}),title:eI[e],children:eC[e]},e)),[s]);return(0,r.jsxs)(n,{ref:t,...u(),children:[c,a&&(0,r.jsx)("span",{className:o.content({class:null==i?void 0:i.content}),children:a})]})});eR.displayName="HeroUI.Kbd";var eD=e.i(14060),eA=e.i(52841),eL=(0,eN.tv)({base:["px-2","py-1","h-fit","font-mono","font-normal","inline-block","whitespace-nowrap"],variants:{color:{default:eA.colorVariants.flat.default,primary:eA.colorVariants.flat.primary,secondary:eA.colorVariants.flat.secondary,success:eA.colorVariants.flat.success,warning:eA.colorVariants.flat.warning,danger:eA.colorVariants.flat.danger},size:{sm:"text-small",md:"text-medium",lg:"text-large"},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"}},defaultVariants:{color:"default",size:"sm",radius:"sm"}}),eO=(0,ej.forwardRef)((e,t)=>{let{Component:n,children:a,getCodeProps:o}=function(e){let[t,n]=(0,ej.mapPropsVariants)(e,eL.variantKeys),{as:r,children:a,className:o,...i}=t,s=(0,l.useMemo)(()=>eL({...n,className:o}),[(0,eE.objectToDeps)(n),o]);return{Component:r||"code",children:a,getCodeProps:()=>({className:s,...i})}}({...e});return(0,r.jsx)(n,{ref:t,...o(),children:a})});eO.displayName="HeroUI.Code";var eM=e.i(56124),eH=e.i(76220),eT=e.i(73068);let eF="mra-pdf-dev-left-size",eU="mra-pdf-dev-template",eB="mra-pdf-dev-json-";try{a.Font.register({family:"Sarabun",fonts:[{src:"/mra/fonts/sarabun_new/THSarabunNew.ttf",fontWeight:"normal"},{src:"/mra/fonts/sarabun_new/THSarabunNew Bold.ttf",fontWeight:"bold"}]})}catch(e){}let eJ=(0,eT.createTw)({theme:{fontFamily:{sans:["Sarabun"]},extend:{colors:{custom:"#bada55"}}}}),eY=e=>{let{title:t="Coming soon…"}=e;return(0,r.jsx)(o.Document,{children:(0,r.jsx)(o.Page,{size:"A4",style:[eJ("p-8 pt-5 font-sans text-base"),{lineHeight:1}],children:(0,r.jsxs)(o.View,{children:[(0,r.jsx)(o.Text,{style:{fontSize:32,fontWeight:"bold",lineHeight:1},children:t}),(0,r.jsx)(o.Text,{style:{marginTop:8,fontSize:20,lineHeight:1},children:"โปรดเตรียมคอมโพเนนต์สำหรับแบบฟอร์มนี้ แล้วมาแมปใน Dev Workbench ได้เลย"})]})})})},eV=[{key:"OPD",label:"OPD (ปัจจุบัน)"},{key:"IPD",label:"IPD (ปัจจุบัน)"},{key:"ER",label:"ER (เผื่ออนาคต)"},{key:"PSY-IPD",label:"PSY-IPD (เผื่ออนาคต)"},{key:"PSY-OPD",label:"PSY-OPD (เผื่ออนาคต)"},{key:"PSY-ER",label:"PSY-ER (เผื่ออนาคต)"}],eK={OPD:ew.default,IPD:eS.default,ER:e=>(0,r.jsx)(eY,{title:"ER Form (Coming soon)",...e}),"PSY-IPD":e=>(0,r.jsx)(eY,{title:"PSY-IPD Form (Coming soon)",...e}),"PSY-OPD":e=>(0,r.jsx)(eY,{title:"PSY-OPD Form (Coming soon)",...e}),"PSY-ER":e=>(0,r.jsx)(eY,{title:"PSY-ER Form (Coming soon)",...e})},eG={OPD:"/mra/presets/opd.sample.json",IPD:"/mra/presets/ipd.sample.json",ER:"/mra/presets/er.sample.json","PSY-IPD":"/mra/presets/psy-ipd.sample.json","PSY-OPD":"/mra/presets/psy-opd.sample.json","PSY-ER":"/mra/presets/psy-er.sample.json"},eW={};function e_(){let[e,t]=(0,l.useState)("OPD"),[n,o]=(0,l.useState)(""),[i,s]=(0,l.useState)(""),[u,c]=(0,l.useState)(!0),[d,f]=(0,l.useState)(0),[p,m]=(0,l.useState)(""),g=(0,l.useRef)(null),[v,x]=(0,l.useState)(null),b=(0,l.useRef)(null),y=(0,l.useRef)(0),[w,S]=(0,l.useState)(34);(0,l.useEffect)(()=>{try{let e=Number(localStorage.getItem(eF));e&&e>18&&e<82&&S(e);let n=localStorage.getItem(eU);n&&eK[n]&&t(n)}catch(e){}},[]),(0,l.useEffect)(()=>{let t=eB+e,n=!1;(async()=>{try{let e=localStorage.getItem(t);if(e){o(e),n=!0;return}}catch(e){}let r=eG[e];if(r)try{let e=await fetch(r,{cache:"no-cache"});if(e.ok){let t=await e.text();o(t),n=!0;return}}catch(e){}n||o(JSON.stringify(eW,null,2))})();try{localStorage.setItem(eU,e)}catch(e){}},[e]),(0,l.useEffect)(()=>{if(!n)return;let t=setTimeout(()=>{try{localStorage.setItem(eB+e,n)}catch(e){}},300);return()=>clearTimeout(t)},[n,e]),(0,l.useEffect)(()=>{if(u)return g.current&&clearTimeout(g.current),g.current=setTimeout(()=>m(n),600),()=>{g.current&&clearTimeout(g.current)}},[n,u]);let z=(0,l.useMemo)(()=>{let e=u?p:n;try{let t=e.trim()?JSON.parse(e):{};return s(""),t}catch(e){var t;return s(null!=(t=null==e?void 0:e.message)?t:"JSON parse error"),{}}},[p,n,u]),k=(0,l.useRef)(eW),j=(0,l.useMemo)(()=>!i&&u?(k.current=z,z):u?k.current:z,[z,i,u]);(0,l.useEffect)(()=>{let e=e=>{(navigator.platform.toUpperCase().includes("MAC")?e.metaKey:e.ctrlKey)&&"s"===(e.key||"").toLowerCase()&&(e.preventDefault(),E().catch(()=>{}))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[e,j]);let N=async function(){var t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=null!=(t=eK[l])?t:ew.default,i=++y.current;try{let e=await (0,a.pdf)((0,r.jsx)(o,{...n||{}})).toBlob();if(y.current!==i)return;let t=URL.createObjectURL(e);b.current&&URL.revokeObjectURL(b.current),b.current=t,x(t)}catch(e){console.error("PDF render error:",e),x(null)}};(0,l.useEffect)(()=>{N()},[e,j,d]);let P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getFullYear()).concat(String(e.getMonth()+1).padStart(2,"0")).concat(String(e.getDate()).padStart(2,"0"),"-").concat(String(e.getHours()).padStart(2,"0")).concat(String(e.getMinutes()).padStart(2,"0"))},E=async()=>{var t,n,l;let o=null!=(t=eK[e])?t:ew.default;try{let t=await (0,a.pdf)((0,r.jsx)(o,{...j||{}})).toBlob(),i=URL.createObjectURL(t),s=document.createElement("a"),u=(null==j||null==(n=j.patients)?void 0:n.patient_vn)||(null==j||null==(l=j.patients)?void 0:l.patient_an)||"preview";s.href=i,s.download="MRA-".concat(e,"-").concat(u,"-").concat(P(),".pdf"),s.click(),URL.revokeObjectURL(i)}catch(e){console.error(e),alert("สร้างไฟล์ไม่สำเร็จ (ดู console)")}};(0,l.useEffect)(()=>()=>{b.current&&URL.revokeObjectURL(b.current)},[]);let C=async t=>{if(t)try{let n=await t.text();JSON.parse(n),o(n);try{localStorage.setItem(eB+e,n)}catch(e){}}catch(e){alert("ไฟล์ไม่ใช่ JSON ที่ถูกต้อง")}},I=async()=>{let t=eG[e];if(!t)return void o(JSON.stringify(eW,null,2));try{console.log(t);let n=await fetch(t,{cache:"no-cache"}),r=n.ok?await n.text():JSON.stringify(eW,null,2);o(r);try{localStorage.setItem(eB+e,r)}catch(e){}}catch(e){o(JSON.stringify(eW,null,2))}},R=(0,l.useRef)(null);return(0,r.jsx)("div",{className:"h-[calc(100vh)] p-3",children:(0,r.jsxs)("div",{className:"h-full rounded-2xl border border-zinc-300 dark:border-[#505050] bg-white dark:bg-[#181818] shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-zinc-300 dark:border-[#505050]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"h-6 w-6 rounded-full grid place-items-center text-xs font-semibold text-white bg-emerald-600 shadow-sm",children:"M"}),(0,r.jsx)("p",{className:"font-semibold tracking-tight",children:"MRA • PDF Dev Preview"}),(0,r.jsx)(eD.Divider,{orientation:"vertical",className:"mx-2 h-5"}),(0,r.jsx)(eM.Select,{"aria-label":"เลือกชนิดเอกสาร",selectedKeys:new Set([e]),onSelectionChange:e=>{let n=[...e][0];n&&eK[n]&&t(n)},size:"sm",className:"w-[240px]",variant:"bordered",children:eV.map(e=>(0,r.jsx)(eH.SelectItem,{value:e.key,children:e.label},e.key))}),i?(0,r.jsx)(eO,{color:"danger",size:"sm",className:"ml-2",children:"JSON error"}):(0,r.jsx)(eO,{color:"success",size:"sm",className:"ml-2",children:"JSON OK"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{ref:R,type:"file",accept:"application/json",hidden:!0,onChange:e=>{var t;return C(null==(t=e.target.files)?void 0:t[0])}}),(0,r.jsx)(ek.Tooltip,{content:"นำเข้าข้อมูล JSON สำหรับฟอร์มนี้",children:(0,r.jsx)(ez.Button,{size:"sm",variant:"flat",onPress:()=>{var e;return null==(e=R.current)?void 0:e.click()},children:"Import JSON"})}),(0,r.jsx)(ek.Tooltip,{content:"บันทึกชุดข้อมูล JSON ที่กำลังแก้",children:(0,r.jsx)(ez.Button,{size:"sm",variant:"flat",onPress:()=>{try{let t=new Blob([n||"{}"],{type:"application/json"}),r=URL.createObjectURL(t),l=document.createElement("a");l.href=r,l.download="MRA-".concat(e,"-data-").concat(P(),".json"),l.click(),URL.revokeObjectURL(r)}catch(e){}},children:"Export JSON"})}),(0,r.jsx)(ek.Tooltip,{content:"โหลด preset ของฟอร์มนี้จาก /public/mra/presets",children:(0,r.jsx)(ez.Button,{size:"sm",variant:"flat",color:"secondary",onPress:I,children:"Reset to Preset"})}),(0,r.jsx)(ek.Tooltip,{content:"รีเฟรชฝั่งพรีวิว",children:(0,r.jsx)(ez.Button,{size:"sm",variant:"flat",onPress:()=>{window.location.reload()},children:"Refresh"})}),(0,r.jsx)(ek.Tooltip,{content:(0,r.jsxs)("p",{children:["ดาวน์โหลด ",(0,r.jsx)(eR,{children:"Ctrl"}),"/",(0,r.jsx)(eR,{children:"⌘"}),"+",(0,r.jsx)(eR,{children:"S"})]}),children:(0,r.jsx)(ez.Button,{size:"sm",color:"success",onPress:E,children:"Download"})})]})]}),(0,r.jsxs)(ev,{direction:"horizontal",onLayout:e=>{try{localStorage.setItem(eF,String(Math.round(e[0])))}catch(e){}},className:"h-[calc(100vh-48px)]",children:[(0,r.jsx)(h,{defaultSize:w,minSize:20,children:(0,r.jsxs)("div",{className:"h-[calc(100vh-8vh)] flex flex-col",children:[(0,r.jsx)("div",{className:"p-3",children:(0,r.jsxs)("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:["ชุดข้อมูลของฟอร์ม ",(0,r.jsx)("span",{className:"font-semibold",children:e})," จะถูกเก็บแยกในเบราว์เซอร์ (localStorage) และมีไฟล์ preset ให้โหลดกลับได้ ถ้ารื้อจนพัง"]})}),(0,r.jsx)("div",{className:"px-3 pb-3 mb-4 h-full",children:(0,r.jsx)("textarea",{value:n,onChange:e=>o(e.target.value),spellCheck:!1,className:"w-full resize-none h-full font-mono text-[12.5px] leading-5 p-3 rounded-xl border border-zinc-300 dark:border-[#505050] outline-none focus:ring-1 focus:ring-emerald-500 bg-white dark:bg-[#111111] text-zinc-800 dark:text-zinc-100"})}),(0,r.jsxs)("div",{className:"px-3 py-2 text-[11px] text-zinc-600 dark:text-zinc-400 border-t border-zinc-200 dark:border-[#404040] flex justify-between",children:[(0,r.jsxs)("span",{children:["สถานะ: ",i?(0,r.jsx)("span",{className:"text-rose-600",children:"ผิดรูปแบบ JSON"}):(0,r.jsx)("span",{className:"text-emerald-700 dark:text-emerald-400",children:"พร้อมพรีวิว"})]}),(0,r.jsx)("span",{className:"italic",children:u?"Live preview ON":"Live preview OFF"})]})]})}),(0,r.jsxs)(ey,{className:"w-0.5 relative group hover:bg-[#D4D4D8] active:bg-[#D4D4D8] dark:hover:bg-[#505050] dark:active:bg-[#505050]",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 -left-0.5 right-0 mx-auto my-auto h-10 w-1.5 rounded-full bg-zinc-200 dark:bg-zinc-600 group-hover:bg-[#D4D4D8] transition-colors"}),(0,r.jsxs)("div",{className:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 grid gap-1",children:[(0,r.jsx)("span",{className:"h-1 w-1 rounded-full bg-zinc-400/70"}),(0,r.jsx)("span",{className:"h-1 w-1 rounded-full bg-zinc-400/70"}),(0,r.jsx)("span",{className:"h-1 w-1 rounded-full bg-zinc-400/70"})]})]}),(0,r.jsx)(h,{minSize:30,children:(0,r.jsx)("div",{className:"h-full rounded-none",children:v?(0,r.jsx)("iframe",{title:"MRA PDF preview",src:v,width:"100%",height:"100%",className:"w-full h-full",style:{border:0}},d):(0,r.jsx)("div",{className:"h-full grid place-items-center text-sm text-zinc-600 dark:text-zinc-400",children:"กำลังสร้างเอกสาร หรือยังไม่มี URL แสดงผล…"})})})]})]})})}}]);