{"version":3,"sources":["turbopack:///[project]/src/components/Developing.jsx","turbopack:///[project]/node_modules/lucide-react/src/icons/code-xml.ts","turbopack:///[project]/src/app/(public)/forms/opd-er/page.jsx"],"sourcesContent":["// components/Developing.jsx\r\n\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { motion } from \"framer-motion\";\r\nimport { CodeXml } from \"lucide-react\";\r\nimport Ripple from \"material-ripple-effects\";\r\n\r\n/**\r\n * ส่วนสําหรับแสดงข้อความว่าฟีเจอร์นี้ยังไม่พร้อมให้ใช้งาน\r\n * Props:\r\n * - title: หัวข้อหลัก (default: \"กำลังพัฒนา\")\r\n * - message: ข้อความหลัก (default: \"ฟีเจอร์นี้ยังไม่พร้อมให้ใช้งานตอนนี้\")\r\n * - subMessage: ข้อความรอง (default: \"ทีมงานกำลังเร่งทำให้เสร็จแบบโดยเร็วที่สุด\")\r\n * - progress: ความคืบหน้าเป็นเปอร์เซ็นต์ (0-100) (optional)\r\n * - est: ข้อความประมาณเวลาที่คาดว่าจะเสร็จ (optional)\r\n * - actions: อาร์เรย์ของปุ่มหรือการกระทำที่ต้องการแสดง (optional)\r\n * - className: คลาสเพิ่มเติมสำหรับการปรับแต่งสไตล์ (optional)\r\n * \r\n * ตัวอย่างการใช้งาน:\r\n * - <Developing\r\n *   - title=\"ฟีเจอร์ใหม่\"\r\n *   - message=\"เรากำลังพัฒนาฟีเจอร์นี้อยู่\"\r\n *   - subMessage=\"คาดว่าจะเสร็จในอีกไม่กี่สัปดาห์\"\r\n *   - progress={45}\r\n *   - est=\"คาดว่าจะเสร็จในอีก 2 สัปดาห์\"\r\n *   - actions={[\r\n *      - { label: \"กลับไปหน้าแรก\", href: \"/\", primary: true },\r\n *      - { label: \"ติดต่อเรา\", onClick: () => alert(\"ติดต่อเรา\") }\r\n *   - ]}\r\n *   - className=\"my-custom-class\"\r\n * - />\r\n */\r\n\r\nexport default function Developing({\r\n    title = \"กำลังพัฒนา\",\r\n    message = \"ฟีเจอร์นี้ยังไม่พร้อมให้ใช้งานตอนนี้\",\r\n    subMessage = \"ทีมงานกำลังเร่งทำให้เสร็จแบบโดยเร็วที่สุด\", \r\n    progress, // progress เป็นเปอร์เซ็นต์ (0-100)\r\n    est, // estimated time\r\n    actions = [], // เพิ่ม prop actions\r\n    className = \"\" // เพิ่ม prop className\r\n}) {\r\n\r\n  // ฟังก์ชันช่วยสำหรับจัดการ class names\r\n  const clx = (...s) => s.filter(Boolean).join(\" \");\r\n  const ripple = new Ripple();\r\n\r\n  return (\r\n    <motion.section\r\n      initial={{ opacity: 0, y: 10 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.3 }}\r\n      aria-live=\"polite\"\r\n      className={clx(\r\n        \"w-full rounded-2xl border border-neutral-200 dark:border-neutral-800 bg-white/70 dark:bg-neutral-900/70\",\r\n        \"backdrop-blur p-4 shadow-sm\",\r\n        className\r\n      )}\r\n    >\r\n      {/* Header */}\r\n      <div className=\"flex items-start gap-4\">\r\n        <div\r\n          className=\"h-12 w-12 shrink-0 rounded-xl border border-neutral-200 dark:border-neutral-800 \r\n                     bg-gradient-to-br from-emerald-100 to-emerald-200 dark:from-emerald-900/40 dark:to-emerald-800/30\r\n                     flex items-center justify-center\"\r\n          aria-hidden\r\n        >\r\n          {/* simple wrench icon */}\r\n          <CodeXml className=\"size-6 text-emerald-700 dark:text-emerald-400\" />\r\n        </div>\r\n\r\n        <div className=\"min-w-0\">\r\n          <h2 className=\"text-lg sm:text-xl font-semibold tracking-tight text-neutral-900 dark:text-neutral-50\">\r\n            {title}\r\n          </h2>\r\n          <p className=\"mt-1 text-base font-medium text-neutral-700 dark:text-neutral-300\">{message}</p>\r\n          <p className=\"text-xs text-neutral-500 dark:text-neutral-400\">{subMessage}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Progress */}\r\n      {(typeof progress === \"number\" || est) && (\r\n        <div className=\"mt-6 space-y-2\">\r\n          {typeof progress === \"number\" && (\r\n            <>\r\n              <div className=\"flex items-center justify-between text-xs text-neutral-500 dark:text-neutral-400\">\r\n                <span>ความคืบหน้า</span>\r\n                <span aria-live=\"polite\">\r\n                  <span className=\"font-medium\">{Math.max(0, Math.min(100, progress))}</span>%\r\n                </span>\r\n              </div>\r\n              <div className=\"h-2 w-full rounded-full bg-neutral-200 dark:bg-neutral-800 overflow-hidden\">\r\n                <div\r\n                  className=\"h-full rounded-full bg-emerald-600 dark:bg-emerald-400 transition-[width] duration-500\"\r\n                  style={{ width: `${Math.max(0, Math.min(100, progress))}%` }}\r\n                  role=\"progressbar\"\r\n                  aria-valuemin={0}\r\n                  aria-valuemax={100}\r\n                  aria-valuenow={Math.max(0, Math.min(100, progress))}\r\n                />\r\n              </div>\r\n            </>\r\n          )}\r\n          {est && <p className=\"text-xs text-neutral-500 dark:text-neutral-400\">{est}</p>}\r\n        </div>\r\n      )}\r\n\r\n      {/* Actions */}\r\n      {actions.length > 0 && (\r\n        <div className=\"mt-6 flex flex-wrap gap-2\">\r\n          {actions.map((a, i) => {\r\n            const base =\r\n              \"inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm transition border focus:outline-none focus:ring-2 focus:ring-emerald-400/60\";\r\n            const primary =\r\n              \"bg-emerald-600 text-white border-emerald-600 hover:bg-emerald-700\";\r\n            const secondary =\r\n              \"bg-transparent text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-800/60 cursor-pointer\";\r\n            const cls = clx(base, a.primary ? primary : secondary);\r\n            const content = <span className=\"whitespace-nowrap\">{a.label}</span>;\r\n\r\n            if (a.href) {\r\n              return (\r\n                <Link draggable={false} key={i} href={a.href} className={cls} onMouseDown={(e) => ripple.create(e, \"dark\")} rel=\"noreferrer\">\r\n                  {content}\r\n                </Link>\r\n              );\r\n            }\r\n            return (\r\n              <button key={i} type=\"button\" onClick={a.onClick} onMouseDown={(e) => ripple.create(e, \"light\")} className={cls}>\r\n                {content}\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </motion.section>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm18 16 4-4-4-4', key: '1inbqp' }],\n  ['path', { d: 'm6 8-4 4 4 4', key: '15zrgr' }],\n  ['path', { d: 'm14.5 4-5 16', key: 'e7oirm' }],\n];\n\n/**\n * @component @name CodeXml\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTYgNC00LTQtNCIgLz4KICA8cGF0aCBkPSJtNiA4LTQgNCA0IDQiIC8+CiAgPHBhdGggZD0ibTE0LjUgNC01IDE2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/code-xml\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CodeXml = createLucideIcon('code-xml', __iconNode);\n\nexport default CodeXml;\n","\"use client\";\r\n\r\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport LoadingCenter from \"@/components/loading\";\r\nimport AuthenHook from \"@/hooks/AuthenHook.mjs\";\r\nimport axiosApi from \"@/config/axios-api\";\r\nimport { Input } from \"@heroui/input\";\r\nimport AppDataGrid from \"@/components/table/AppDataGrid\";\r\nimport { useTheme } from \"next-themes\";\r\nimport { useIdleTimer } from \"react-idle-timer\";\r\nimport Ripple from \"material-ripple-effects\";\r\nimport moment from \"moment/moment\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Checkbox } from \"@heroui/checkbox\";\r\nimport { Radio, RadioGroup } from \"@heroui/radio\";\r\nimport MRAFormIPD from \"@/components/RenderForm/MRAFormIPD\";\r\nimport { pdf } from \"@react-pdf/renderer\";\r\nimport { addToast } from \"@heroui/toast\";\r\nimport ModalTextForm from \"@/components/modal/ModalTextForm\";\r\nimport maskANPretty from \"@/utils/maskANPretty\";\r\nimport Forbidden from \"@/components/Forbidden\";\r\nimport HospitalHook from \"@/hooks/HospitalHook.mjs\";\r\nimport Developing from \"@/components/Developing\";\r\n\r\nexport default function Page() {\r\n  const { profile, authLoading } = AuthenHook();\r\n  const { setAutoSaveMessage } = HospitalHook();\r\n  const { resolvedTheme } = useTheme();\r\n  const [ token, setToken ] = useState(localStorage.getItem(\"token\"));\r\n  const [ mounted, setMounted ] = useState(false);\r\n  const [ an, setAn ] = useState(\"\");\r\n  const [ hcode, setHcode ] = useState({ hcode: \"\", hcode_name: \"\" });\r\n  const [ rowData, setRowData ] = useState([]);\r\n  const [ overallData, setOverallData ] = useState([]);\r\n  const [ reviewStatus, setReviewStatus ] = useState(null);\r\n  const [ pdfBase64, setPdfBase64 ] = useState(\"\"); \r\n\r\n  const [ loadingDelete, setLoadingDelete ] = useState(false);\r\n  const [ loadingDataTable, setLoadingDataTable ] = useState(false);\r\n  const [ loadingSubmit, setLoadingSubmit ] = useState(false);\r\n\r\n  const [ formData, setFormData ] = useState({\r\n    content: [],\r\n    overall: [],\r\n    review_status_id: null,\r\n    review_status_result: null,\r\n    review_status_comment: \"\",\r\n  });\r\n\r\n  const [ patientAn, setPatientAn ] = useState(null);\r\n\r\n  const [ openModelDelete, setOpenModelDelete ] = useState(false);\r\n\r\n  const [ generatePdf, setGeneratePdf ] = useState(false);\r\n\r\n  const [pdfReady, setPdfReady] = useState(false);\r\n  const [pdfData, setPdfData] = useState(null);\r\n  const pdfRef = useRef();\r\n\r\n  let SaveAutoTime = 2000 // 2 วินาที\r\n \r\n  const inputRef = useRef(null); // เก็บตัวเก็บข้อมูลของ input\r\n\r\n  const ripple = new Ripple();\r\n\r\n  useEffect(() => setMounted(true), []);\r\n\r\n  useEffect(() => {\r\n    try { setToken(localStorage.getItem(\"token\")); } catch {}\r\n  }, []);\r\n\r\n  if (!token) return <Forbidden />;\r\n\r\n  if (token === null) return <LoadingCenter />\r\n\r\n  if(profile?.email === \"iinter731@gmail.com\") {\r\n    return (\r\n      <Developing \r\n        title=\"แบบประเมินคุณภาพการบันทึกเวชระเบียนผู้ป่วยนอก/ฉุกเฉิน (OPD/ER)\"\r\n        message=\"ระบบกำลังอยู่ในระหว่างการพัฒนา\"\r\n        subMessage=\"ขออภัยในความไม่สะดวกครับ/ค่ะ\"\r\n        progress={20}\r\n        est=\"ETA : คาดว่าจะเสร็จภายในสัปดาห์นี้\"\r\n        actions={[\r\n          { label: \"กลับไปหน้า Dashboard\", href: \"/\", primary: true },\r\n          { label: \"รีเฟรช\", onClick: () => location.reload() },\r\n        ]}\r\n      />\r\n    )\r\n  }\r\n\r\n  const onGridReady = useCallback((event) => {\r\n    event.api.sizeColumnsToFit();\r\n  }, []);\r\n\r\n  const fetchHcode = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      const res = await axiosApi.get(\"/setting/hcode\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      })\r\n\r\n      if(res.status === 200){\r\n        setHcode(res.data.data[0]);\r\n      }\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  const fetchOnePatient = async (anKey) => {\r\n    setPdfReady(false);\r\n    try {\r\n      const res = await axiosApi.get(`mraIpd/fetchPatient/${anKey}`, {\r\n        headers: { Authorization: `Bearer ${token}` }, // ใช้ token จาก hook\r\n      });\r\n      \r\n      if (res.status === 200) {\r\n        setPatientAn(res.data.data); // เก็บข้อมูลคนไข้จาก API นี้\r\n        await generateForm(anKey);   // แล้วค่อยไปสร้างฟอร์ม\r\n        addToast({ title: \"สําเร็จ\", description: res.data.message, timeout: 8000, color: \"success\", shouldShowTimeoutProgress: true });\r\n      }\r\n\r\n    } catch (err) {\r\n      console.log(err);\r\n      if (err?.response?.status === 409) {\r\n        await generateForm(anKey);\r\n        return;\r\n      } else {\r\n        addToast({ title: \"เกิดข้อผิดพลาด\", description: err.response.data.message, timeout: 8000, color: \"danger\", shouldShowTimeoutProgress: true });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleIdle = () => { // ฟังก์ชันสําหรับการหยุดพิมพ์\r\n    if (an?.trim()) {\r\n      fetchOnePatient(an);\r\n    }\r\n  };\r\n\r\n  useIdleTimer({\r\n    timeout: 1000, // 1000ms = หยุดพิมพ์\r\n    onIdle: handleIdle, // ใช้ฟังก์ชัน handleIdle\r\n    events: [\"keyup\"], // ใช้ keyup เท่านั้น\r\n    element: inputRef.current, // ผูกกับ input\r\n    immediateEvents: [], // ไม่ต้องรัน event อื่นทันที\r\n  });\r\n\r\n  const generateForm = async (anKey) => {\r\n    setLoadingDataTable(true);\r\n    try {\r\n      const res = await axiosApi.post(\"/mraIpd\", { \r\n        patient_an: anKey \r\n      },\r\n      {\r\n        headers: {\r\n           Authorization: `Bearer ${token}` \r\n          }\r\n        }\r\n      );\r\n\r\n      if (res.status === 200) {\r\n        addToast({ title: \"สําเร็จ\", description: res.data.message, timeout: 8000, color: \"success\", shouldShowTimeoutProgress: true });\r\n        const data = res.data.data;\r\n        setRowData(data[0].form_ipd_content_of_medical_record_results);\r\n        setOverallData(data[0].form_ipd_overall_finding_results);\r\n        fetchReviewStatus();\r\n        // แปลงโครงสร้างจริงของ data เป็น array หรือ object\r\n        const p = (Array.isArray(data) ? data[0]?.patients : data?.patients) || {};\r\n        setPatientAn({\r\n          an: p.patient_an || \"\",\r\n          hn: p.patient_hn || \"\",\r\n          fullname: p.patient_fullname || \"\",\r\n          regdate: p.patient_date_admitted || \"\",\r\n          dcgdate: p.patient_date_discharged || \"\",\r\n          ward_name: p.patient_ward || \"\",\r\n        });\r\n\r\n        setFormData((output) => ({\r\n          ...output,\r\n          content: data[0].form_ipd_content_of_medical_record_results.map((item) => {\r\n            const {\r\n              created_at,\r\n              updated_at,\r\n              created_by,\r\n              updated_by,\r\n              total_score,\r\n              content_of_medical_records,\r\n              ...rest\r\n            } = item;\r\n\r\n            const content_of_medical_record_id = content_of_medical_records?.content_of_medical_record_id;\r\n\r\n            const converted = {\r\n              content_of_medical_record_id,\r\n            };\r\n\r\n            for (const key in rest) {\r\n              const value = rest[key];\r\n              if (key === \"comment\") {\r\n                converted[key] = value ?? null;\r\n              } else if (key === \"na\" || key === \"missing\" || key === \"no\") {\r\n                // na, missing, no คง true/false ตามเดิม\r\n                converted[key] = !!value;\r\n              } else {\r\n                converted[key] =\r\n                    typeof value === \"boolean\" ? (value ? 1 : 0)\r\n                    : value == null ? 0  // สำหรับ null หรือ undefined\r\n                  : value;\r\n              }\r\n            }\r\n\r\n            return converted;\r\n          }),\r\n        }));\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      if(err.response.status === 409) { // สำหรับข้อผิดพลาด 409\r\n        hdlPreviewSubmit(); // ส่งข้อมูลไปยังฟังก์ชัน hdlPreviewSubmit\r\n      } else {\r\n        addToast({ title: \"เกิดข้อผิดพลาด\", description: err.response.data.message, timeout: 8000, color: \"danger\", shouldShowTimeoutProgress: true });\r\n      }\r\n    } finally {\r\n      setLoadingDataTable(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHcode();\r\n    inputRef.current.focus();\r\n  }, [authLoading, token, profile]);\r\n\r\n  const fetchReviewStatus = async () => {\r\n    try {\r\n      const res = await axiosApi.get(\"/mraIpd/rvst\", {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\r\n        }\r\n      })\r\n\r\n      if(res.status === 200){\r\n        setReviewStatus(res.data.data);\r\n      }\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  const hdlPreviewSubmit = async () => {\r\n    setGeneratePdf(true);\r\n    try {\r\n      // 1. ดึงข้อมูล API (หรือใช้ข้อมูลที่มีใน state)\r\n      const rs = await axiosApi.get(`/mraIpd/${an}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      }) // หรือรับจาก props\r\n\r\n      const data = rs.data.data[0];\r\n      if(rs.status === 200){\r\n        setPdfReady(true);\r\n        setPdfData(data);\r\n        const p = (Array.isArray(data) ? data[0]?.patients : data?.patients) || {};\r\n        setPatientAn({\r\n          an: p.patient_an || \"\",\r\n          hn: p.patient_hn || \"\",\r\n          fullname: p.patient_fullname || \"\",\r\n          regdate: p.patient_date_admitted || \"\",\r\n          dcgdate: p.patient_date_discharged || \"\",\r\n          ward_name: p.patient_ward || \"\",\r\n        });\r\n        setTimeout(() => {\r\n          if (pdfRef.current) {\r\n            pdfRef.current.focus();\r\n          }\r\n        }, 500);\r\n      }\r\n    } catch (err) {\r\n\r\n      // -----------------error 409 คือ ได้รับไฟล์ PDF-----------------------\r\n      if(err.response.status === 409) {\r\n        setPdfReady(true); //--- ให้แสดงไฟล์ PDF\r\n        setPdfBase64(err.response?.data.data?.pdf_ipd_file); //--- ให้ข้อมูล PDF\r\n        const p = err.response.data.data?.form_ipds?.patients;\r\n        setPatientAn({\r\n          hn: p.patient_hn || \"\",\r\n          fullname: p.patient_fullname || \"\",\r\n          regdate: p.patient_date_admitted || \"\",\r\n          dcgdate: p.patient_date_discharged || \"\",\r\n          ward_name: p.patient_ward || \"\",\r\n        });\r\n      } else {\r\n        addToast({ title: \"เกิดข้อผิดพลาด\", description: err.response.data.message, timeout: 8000, color: \"danger\", shouldShowTimeoutProgress: true });\r\n      }\r\n    } finally {\r\n      setGeneratePdf(false);\r\n    }\r\n  }\r\n\r\n  const isRowLockedExceptSelf = (data, columnKey) => {\r\n    // Lock เฉพาะถ้า current column ไม่ใช่ na, missing, no\r\n    if (columnKey === 'na') return data?.missing || data?.no;\r\n    if (columnKey === 'missing') return data?.na || data?.no;\r\n    if (columnKey === 'no') return data?.na || data?.missing;\r\n    // ทุกคอลัมน์อื่น ๆ — ถ้าค่าหนึ่งในนั้นติ๊กอยู่ ก็ lock\r\n    return data?.na || data?.missing || data?.no;\r\n  };\r\n\r\n  const columnDefs = [\r\n    { \r\n      field: \"content_of_medical_record_name\",\r\n      pinned: 'left',\r\n      headerName: \"หัวข้อเวชระเบียน\", \r\n      valueGetter: (params) => { // ฟังก์ชันสําหรับการดึงข้อมูล\r\n        const index = params.node.rowIndex + 1; // ดึง index\r\n        const name = params.data.content_of_medical_records // เช็คข้อมูลที่มีชื่อ content_of_medical_records\r\n            ?.content_of_medical_record_name || \"\"; // ถ้าจริงก็ให้ดึงหัวข้อมา แต่ไม่มีก็ให้เป็น \"\"\r\n        return `${index}.${name}`; // คืนค่าหัวข้อเวชระเบียน พร้อมกับตัวเลขตำแหน่งหน้าหัวข้อ\r\n      },\r\n      minWidth: 240, \r\n    },\r\n    { field: \"na\", \r\n      editable: (params) => {\r\n        return !isRowLockedExceptSelf(params.data, 'na') && params.data.content_of_medical_records?.na_type !== false;\r\n      },\r\n      headerName: \"NA\", \r\n      minWidth: 60,\r\n      cellRenderer: \"agCheckboxCellRenderer\",\r\n      cellEditor: \"agCheckboxCellEditor\",\r\n      cellStyle: (params) => {\r\n        if (isRowLockedExceptSelf(params.data, 'na') || params.data.content_of_medical_records?.na_type === false) {\r\n          return {\r\n            backgroundColor: mounted && resolvedTheme === \"dark\" ? '#303030' : '#D7D7D7',\r\n            cursor: \"not-allowed\",\r\n            userSelect: \"none\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          };\r\n        }\r\n        return {\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          cursor: \"pointer\",\r\n        };\r\n      },\r\n    },\r\n    { \r\n      field: \"missing\",\r\n      headerName: \"Missing\",\r\n      minWidth: 80,\r\n      cellRenderer: \"agCheckboxCellRenderer\",\r\n      cellEditor: \"agCheckboxCellEditor\",\r\n      editable: (params) => {\r\n        return !isRowLockedExceptSelf(params.data, 'missing') && params.data.content_of_medical_records?.missing_type !== false;\r\n      },\r\n      cellStyle: (params) => {\r\n        if (isRowLockedExceptSelf(params.data, 'missing') || params.data.content_of_medical_records?.missing_type === false) {\r\n          return {\r\n            backgroundColor: mounted && resolvedTheme === \"dark\" ? '#303030' : '#D7D7D7',\r\n            cursor: \"not-allowed\",\r\n            userSelect: \"none\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          };\r\n        }\r\n        return {\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        };\r\n      },\r\n    },\r\n    { \r\n      field: \"no\",\r\n      headerName: \"No\",\r\n      minWidth: 60,\r\n      cellRenderer: \"agCheckboxCellRenderer\",\r\n      cellEditor: \"agCheckboxCellEditor\",\r\n      cellDataType: \"boolean\",\r\n      editable: (params) => {\r\n        return !isRowLockedExceptSelf(params.data, 'no') && params.data.content_of_medical_records?.no_type !== false;\r\n      },\r\n      cellStyle: (params) => {\r\n        if (isRowLockedExceptSelf(params.data, 'no') || params.data.content_of_medical_records?.no_type === false) {\r\n          return {\r\n            backgroundColor: mounted && resolvedTheme === \"dark\" ? '#303030' : '#D7D7D7',\r\n            cursor: \"not-allowed\",\r\n            userSelect: \"none\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          };\r\n        }\r\n        return {\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        };\r\n      },\r\n    },\r\n    ...Array.from({ length: 9 }, (_, i) => {\r\n      const field = `criterion_number_${i + 1}`;          // ค่าจริง 0/1 เก็บคอลัมน์นี้\r\n      const flagKey = `${field}_type`;                    // แฟลกสำหรับล็อก/ปิดการแก้ไข (boolean/0/1)\r\n\r\n      return {\r\n        field,\r\n        headerName: `เกณฑ์ ${i + 1}`,\r\n        minWidth: 80,\r\n        cellRenderer: \"agCheckboxCellRenderer\",\r\n        cellEditor: \"agCheckboxCellEditor\",\r\n        cellDataType: \"boolean\", \r\n        suppressClickEdit: true,\r\n        stopEditingWhenCellsLoseFocus: true,\r\n        editable: (params) => {\r\n          const locked = isRowLockedExceptSelf?.(params.data, field);\r\n          const disabledByFlag = params.data?.content_of_medical_records?.[flagKey] === false;\r\n          return !locked && !disabledByFlag;\r\n        },\r\n\r\n        onCellClicked: (params) => {\r\n          const locked = isRowLockedExceptSelf?.(params.data, field);\r\n          const disabledByFlag = params.data?.content_of_medical_records?.[flagKey] === false;\r\n          if (locked || disabledByFlag) return;     // เคารพเงื่อนไขล็อก\r\n\r\n          const next = !Boolean(params.value);      // params.value คือ boolean จาก valueGetter\r\n          // ใช้ setDataValue เพื่อให้ valueSetter ทำงานและยิง cellValueChanged ให้ครบ\r\n          params.node.setDataValue(field, next);\r\n        },\r\n\r\n        cellStyle: (params) => {\r\n          const locked = isRowLockedExceptSelf?.(params.data, field);\r\n          const disabledByFlag = params.data?.content_of_medical_records?.[flagKey] === false;\r\n\r\n          if (locked || disabledByFlag) {\r\n            return {\r\n              backgroundColor: mounted && resolvedTheme === \"dark\" ? \"#303030\" : \"#D7D7D7\",\r\n              cursor: \"not-allowed\",\r\n              userSelect: \"none\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            };\r\n          }\r\n          return {\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            cursor: \"pointer\",\r\n          };\r\n        },\r\n\r\n        // 0/1 -> true/false ให้ editor ใช้\r\n        valueGetter: (params) => {\r\n          const v = params.data?.[field];\r\n          return v === 1; // ถ้าเป็น 1 คือ true ที่เหลือให้เป็น false ไป\r\n        },\r\n\r\n        // true/false -> 0/1 กลับเข้า data\r\n        valueSetter: (params) => {\r\n          params.data[field] = params.newValue ? 1 : 0;\r\n          return true; // บอกกริดว่ามีการเปลี่ยนค่าแล้ว\r\n        },\r\n      };\r\n    }),\r\n    {\r\n      field: \"point_deducted\",\r\n      headerName: \"หักคะแนน\",\r\n      minWidth: 90,\r\n      cellRenderer: \"agCheckboxCellRenderer\",\r\n      cellEditor: \"agCheckboxCellEditor\",\r\n      cellDataType: \"boolean\",\r\n      suppressClickEdit: true,\r\n      stopEditingWhenCellsLoseFocus: true,\r\n      valueGetter: (p) => p.data?.point_deducted === 1 || p.data?.point_deducted === true,\r\n      valueSetter: (p) => { p.data.point_deducted = p.newValue ? 1 : 0; return true; },\r\n      editable: (params) => {\r\n        return !isRowLockedExceptSelf(params.data, 'point_deducted') && params.data.content_of_medical_records?.points_deducted_type !== false;\r\n      },\r\n      onCellClicked: (p) => {\r\n        if (isRowLockedExceptSelf(p.data, \"point_deducted\") || \r\n            p.data.content_of_medical_records?.points_deducted_type === false) return;\r\n        p.node.setDataValue(\"point_deducted\", !p.value);\r\n      },\r\n      cellStyle: (params) => {\r\n        if (isRowLockedExceptSelf(params.data, 'point_deducted') || params.data.content_of_medical_records?.points_deducted_type === false) {\r\n          return {\r\n            backgroundColor: mounted && resolvedTheme === \"dark\" ? '#303030' : '#D7D7D7',\r\n            cursor: \"not-allowed\",\r\n            userSelect: \"none\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          };\r\n        }\r\n        return {\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          cursor: \"pointer\",\r\n        };\r\n      },\r\n    },\r\n    { field: \"comment\", \r\n      headerName: \"หมายเหตุ\",\r\n      cellEditor: \"agTextCellEditor\",\r\n      editable: true, \r\n      minWidth: 220,\r\n      stopEditingWhenCellsLoseFocus: true,\r\n      onCellClicked: (p) => p.api.startEditingCell({\r\n        rowIndex: p.rowIndex,\r\n        colKey: \"comment\",\r\n      }),\r\n    },\r\n  ];\r\n\r\n  const hdlCellValueChanged = (event) => {\r\n    event.api.refreshCells({ rowNodes: [event.node], force: true });\r\n\r\n    const updatedData = []; // สร้างตัวแปรสําหรับเก็บข้อมูล\r\n\r\n    event.api.forEachNode((node) => { // วนลูปใน AGGrid\r\n      updatedData.push({ ...node.data }); // เพิ่มข้อมูลใน node.data ไปยัง updatedData\r\n    }); // วนลูปใน AGGrid\r\n\r\n    setFormData((output) => ({\r\n      ...output,\r\n      content: updatedData.map((item) => {\r\n        const {\r\n          created_at,\r\n          updated_at,\r\n          created_by,\r\n          updated_by,\r\n          total_score,\r\n          content_of_medical_records,\r\n          ...rest\r\n        } = item;\r\n\r\n        const content_of_medical_record_id = content_of_medical_records?.content_of_medical_record_id;\r\n\r\n        const converted = {\r\n          content_of_medical_record_id,\r\n        };\r\n\r\n        for (const key in rest) {\r\n          const value = rest[key];\r\n          if (key === \"comment\") {\r\n            converted[key] = value ?? null;\r\n          } else if (key === \"na\" || key === \"missing\" || key === \"no\") {\r\n            // na, missing, no คง true/false ตามเดิม\r\n            converted[key] = !!value;\r\n          } else {\r\n            converted[key] =\r\n                typeof value === \"boolean\" ? (value ? 1 : 0)\r\n                : value == null ? 0  // สำหรับ null หรือ undefined\r\n              : value;\r\n          }\r\n        }\r\n\r\n        return converted;\r\n      }),\r\n    }));\r\n  }\r\n\r\n  const onSubmit = async () => {\r\n    setLoadingSubmit(true);\r\n    let token = localStorage.getItem(\"token\");\r\n    try {\r\n      const res = await axiosApi.put(`/mraIpd/${an}`, formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n\r\n      if(res.status === 200){\r\n        console.log(res.data)\r\n        fetchOnePatient(an);\r\n      }\r\n    } catch (err) {\r\n      console.log(err)\r\n    } finally {\r\n      setLoadingSubmit(false);\r\n    }\r\n  }\r\n\r\n  const onAutoSave = async () => {\r\n    setAutoSaveMessage({ type: \"info\", message: \"กําลังบันทึกอัตโนมัติ...\" });\r\n    let token = localStorage.getItem(\"token\");\r\n    try {\r\n      const res = await axiosApi.put(`/mraIpd/${an}`, formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n\r\n      if(res.status === 200){\r\n        // fetchOnePatient(an);\r\n        setAutoSaveMessage({ type: \"success\", message: \"บันทึกอัตโนมัติสําเร็จ\"});\r\n      }\r\n    } catch (err) {\r\n      console.log(err)\r\n      setAutoSaveMessage({ type: \"danger\", message: \"บันทึกอัตโนมัติไม่สําเร็จ\"});\r\n    } finally {\r\n      setTimeout(() => {\r\n        setAutoSaveMessage(\"\");\r\n      }, 5000);\r\n    } \r\n  }\r\n\r\n  // ฟังก์ชันสําหรับการหยุดทุกการกระทําแล้วจะนับเวลา 5 วินาที แล้วบันทึก (Auto Save)\r\n  useIdleTimer({\r\n    timeout: SaveAutoTime, // 5000ms = 5 วินาที\r\n    onIdle: ( patientAn && !pdfReady && formData.review_status_id === null ) ? onAutoSave : null, // ใช้ฟังก์ชัน handleIdle\r\n    events: [\"keydown\", \"keyup\", \"input\", \"change\"], // เหตุการณ์ที่ต้องการตรวจจับ\r\n    element: typeof document !== \"undefined\" ? document : null, // ผูกกับ document ทั้งหมด\r\n    immediateEvents: [], // ไม่ต้องรัน event อื่นทันที\r\n    startOnMount: false, // ไม่เริ่มจับเวลาเมื่อ component ถูก mount\r\n    debounce: 500, // หน่วงเวลา 500ms ก่อนเริ่มจับเวลาใหม่หลังจากมีเหตุการณ์\r\n  })\r\n\r\n  // อัปเดต state แบบ upsert ตาม overall_finding_id\r\n  const hdlChangeCheckbox = (checked, item) => {\r\n    const id = item?.overall_finding?.overall_finding_id ?? item?.overall_finding_id;\r\n    const resultId = item?.form_ipd_overall_finding_result_id ?? null;\r\n    if (!id) return;\r\n\r\n    // ค่าเดิมที่โหลดมา (treat อะไรที่ไม่ใช่ true ให้เป็น false)\r\n    const original = item?.overall_finding_result === true;\r\n\r\n    setFormData(prev => {\r\n      const next = [...prev.overall];\r\n      const i = next.findIndex(x => x.overall_finding_id === id);\r\n\r\n      if (i > -1) {\r\n        // เคยอยู่ใน diff แล้ว\r\n        if (checked === original) {\r\n          // กลับสู่ค่าเดิม ลบออก ไม่ต้องส่ง\r\n          next.splice(i, 1);\r\n        } else {\r\n          // ยังต่างจากเดิม แก้ค่าต่อไป\r\n          next[i] = {\r\n            ...next[i],\r\n            overall_finding_result: checked,\r\n            form_ipd_overall_finding_result_id:\r\n              next[i].form_ipd_overall_finding_result_id ?? resultId,\r\n          };\r\n        }\r\n      } else {\r\n        // ยังไม่ได้อยู่ใน diff\r\n        if (checked !== original) {\r\n          // ต่างจากค่าเดิม ค่อย push เข้า diff\r\n          next.push({\r\n            form_ipd_overall_finding_result_id: resultId,\r\n            overall_finding_id: id,\r\n            overall_finding_result: checked,\r\n          });\r\n        }\r\n        // ถ้าเท่ากับค่าเดิม ก็ไม่ต้องทำอะไร\r\n      }\r\n      return { ...prev, overall: next };\r\n    });\r\n  };\r\n\r\n  const hdlChangeReviewStatus = (value) => {\r\n    const rvs = reviewStatus?.find(e => e.review_status_id === value)\r\n    setFormData(prev => ({\r\n      ...prev, \r\n      review_status_id: rvs.review_status_id,\r\n      review_status_result: true,\r\n      review_status_comment: rvs.review_status_comment\r\n    }))\r\n  }\r\n\r\n  const hdlClear = () => {\r\n    setFormData(prev => ({\r\n      ...prev, \r\n      content: [],\r\n      overall: [],\r\n      review_status_id: null,\r\n      review_status_result: null,\r\n      review_status_comment: \"\"\r\n    }))\r\n  }\r\n\r\n  const generateBase64 = async (pdfData) => {\r\n    const blob = await pdf(<MRAFormIPD {...pdfData} />).toBlob();\r\n    const base64 = await blobToBase64(blob);\r\n    return base64;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (pdfData) {\r\n    (async () => {\r\n      const base64 = await generateBase64(pdfData);\r\n      setPdfBase64(base64);\r\n      sendPpfFile(base64, pdfData.form_ipd_id);\r\n    })();\r\n  }\r\n  }, [pdfData])\r\n\r\n  const sendPpfFile = async (b64, id) => {\r\n\r\n    const body = {\r\n      form_ipd_id: id,\r\n      binary: b64,\r\n      total_score: pdfData.totalDefaultSum,\r\n      score_obtained: pdfData.totalScoreSum,\r\n      percentage: pdfData.formattedResultSum,\r\n    }\r\n\r\n    try {\r\n      const res = await axiosApi.post(`/mraIpd/insertPdf`, body, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n\r\n      if (res.status === 200) {\r\n        console.log(res.data)\r\n      }\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  const blobToBase64 = (blob) => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => resolve(reader.result.split(',')[1]); // ได้เป็น pure base64 string\r\n      reader.onerror = reject;\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  };\r\n\r\n  const hdlDelete = async ( output ) => {\r\n    setLoadingDelete(true);\r\n    if (output.patient_an !== an) {\r\n      return addToast({ title: \"เกิดข้อผิดพลาด\", description: \"หมายเลข AN ไม่ถูกต้อง\", timeout: 8000, color: \"danger\", shouldShowTimeoutProgress: true });\r\n    }\r\n\r\n    const body = { password: output.password };\r\n\r\n    try {\r\n      const res = await axiosApi.delete(`/mraIpd/${output.patient_an}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\r\n        }, data: body })\r\n\r\n      if(res.status === 200){\r\n        addToast({ title: \"สําเร็จ\", description: res.data.message, timeout: 8000, color: \"success\", shouldShowTimeoutProgress: true });\r\n        hdlClear();\r\n        setAn(\"\");\r\n        setPatientAn(null);\r\n        setPdfData({});\r\n        setPdfReady(false);\r\n        setRowData([]);\r\n        setOpenModelDelete(false);\r\n      }\r\n\r\n    } catch (err) {\r\n      console.log(err)\r\n      addToast({ title: \"เกิดข้อผิดพลาด\", description: err.response.data.message, timeout: 8000, color: \"danger\", shouldShowTimeoutProgress: true });\r\n    } finally {\r\n      setLoadingDelete(false);\r\n    }\r\n  }\r\n\r\n  const field = [\r\n    {\r\n      type: \"text\",\r\n      name: \"patient_an\",\r\n      label: \"กรอกหมายเลข AN\",\r\n      placeholder: \"XXXXXXXXX\",\r\n      required: true,\r\n      radius: \"sm\",\r\n    },\r\n    {\r\n      type: \"password\",\r\n      name: \"password\",\r\n      label: \"กรอกรหัสผ่าน\",\r\n      placeholder: \"**********\",\r\n      required: true,\r\n      radius: \"sm\",\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <>\r\n    {(loadingDelete || loadingSubmit) && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center dark:bg-black/80 bg-white/40 backdrop-blur-sm\">\r\n          <LoadingCenter title={loadingDelete ? \"กําลังลบข้อมูล...\" : \"กําลังบันทึกข้อมูล...\"} />\r\n        </div>\r\n      )}\r\n      <ModalTextForm isOpen={openModelDelete} onClose={() => setOpenModelDelete(false)} delModal={true} title={`คุณต้องการลบข้อมูล ${maskANPretty(an, { keepStart: 2, keepEnd: 2 })}`} onSubmit={hdlDelete} fields={field} />\r\n      <div className=\"select-none rounded-2xl border border-zinc-300 dark:border-[#505050] mb-4 bg-white dark:bg-[#181818] shadow-lg\">\r\n        <div className=\"flex justify-between border-b border-zinc-300 dark:border-[#505050] p-4\">\r\n          <div className=\"flex gap-1 flex-col\">\r\n            <p className=\"font-medium\">แบบตรวจประเมินคุณภาพการบันทึกเวชระเบียนผู้ป่วยนอก/ฉุกเฉิน Medical Record Audit Form (OPD/ER)</p>\r\n            <p className=\"text-xs font-medium text-zinc-600 dark:text-zinc-500\"><span className=\"font-semibold mr-1\">เงื่อนไขการบันทึกเวชระเบียน</span>การบันทึกคะแนน (1) กรณีที่ผ่านเกณฑ์ในแต่ละข้อ ให้ติ๊กถูก (2) กรณีที่ไม่ผ่านเกณฑ์ในแต่ละข้อ ไม่ต้องติ๊ก (3) กรณีไม่จำเป็นต้องมีบันทึก/ไม่มีข้อมูล ในเกณฑ์ข้อที่ระบุให้มี NA ได้ ให้ NA</p>\r\n          </div>\r\n          {patientAn?.ward_name && (\r\n            <span className=\"shrink-0 h-fit rounded-full border border-zinc-300 dark:border-zinc-700 px-3 py-1 text-xs text-zinc-700 dark:text-zinc-200 bg-zinc-50 dark:bg-zinc-900/60\">\r\n              {patientAn.ward_name}\r\n            </span>\r\n          )}\r\n        </div>\r\n        <div className=\"p-4 flex flex-col gap-2\">\r\n          <div className=\"flex gap-2\">\r\n            <Input variant=\"bordered\" radius=\"md\" label=\"รหัสสถานพยาบาล\" size=\"md\" placeholder=\"XXXXX\" value={hcode ? hcode.hcode : \"\"} labelPlacement=\"outside-top\" isReadOnly />\r\n            <Input variant=\"bordered\" radius=\"md\" label=\"ชื่อสถานพยาบาล\" size=\"md\" placeholder=\"โรงพยาบาล.....\" value={hcode ? hcode.hcode_name : \"\"} labelPlacement=\"outside-top\" isReadOnly />\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Input variant=\"bordered\" radius=\"md\" label=\"บัตรประชาชน\" size=\"md\" placeholder=\"บัตรประชาชน\" value={patientAn ? patientAn.fullname : \"\"} labelPlacement=\"outside-top\" isDisabled />\r\n            <Input variant=\"bordered\" radius=\"md\" label=\"ชื่อ-สกุล\" size=\"md\" placeholder=\"ชื่อ-สกุล\" value={patientAn ? patientAn.fullname : \"\"} labelPlacement=\"outside-top\" isDisabled />\r\n            <Input variant=\"bordered\" radius=\"md\" label=\"HN\" size=\"md\" placeholder=\"HN\" value={patientAn ? patientAn.hn : \"\"} labelPlacement=\"outside-top\" isDisabled />\r\n          </div>\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-5 gap-2\">\r\n            <Input \r\n              ref={inputRef}\r\n              value={an}\r\n              onChange={(e) => {\r\n                setAn(e.target.value);\r\n                setPatientAn(null);\r\n                setRowData([]);\r\n                setOverallData([]);\r\n                setPdfReady(false);\r\n                setPdfData(null);\r\n                hdlClear();\r\n                setPdfBase64(\"\");\r\n              }}\r\n              variant=\"bordered\"\r\n              radius=\"md\"\r\n              label=\"VM\"\r\n              size=\"md\"\r\n              placeholder=\"VN\"\r\n              labelPlacement=\"outside-top\"\r\n              maxLength={9}\r\n            />\r\n            <Input variant=\"bordered\" radius=\"md\" label=\"วันที่เข้ารับบริการ\" size=\"md\" placeholder=\"Date admitted\" value={patientAn ? moment(patientAn?.regdate).add(543, \"years\").format(\"DD/MM/YYYY\"): \"\"} labelPlacement=\"outside-top\" isDisabled />\r\n            <Input variant=\"bordered\" radius=\"md\" label=\"วันที่สิ้นสุด\" size=\"md\" placeholder=\"Date discharged\" value={patientAn ? moment(patientAn?.dchdate).add(543, \"years\").format(\"DD/MM/YYYY\"): \"\"} labelPlacement=\"outside-top\" isDisabled />\r\n            <div className=\"flex flex-col items-center w-full h-full\">\r\n              <div className=\"flex items-center justify-between w-full\">\r\n                <p className=\"text-sm mb-2\">ตัวเลือก</p>\r\n              </div>\r\n              <div className=\"w-full items-center\">\r\n                <motion.button onClick={() => setOpenModelDelete(true)} disabled={!pdfReady} className=\"w-full text-sm text-center text-rose-700 border-rose-700 !disabled:dark:hover:border-rose-800 border font-semibold px-6 py-2 hover:bg-red-50 !disabled:dark:hover:bg-rose-800 rounded-xl dark:bg-rose-700 dark:text-white cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed\" >ลบข้อมูล</motion.button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {!pdfReady &&\r\n        <div className=\"shadow-lg rounded-2xl\">\r\n          <AppDataGrid\r\n            columnDefs={columnDefs}\r\n            rowData={rowData}\r\n            loading={loadingDataTable}\r\n            pagination={false}\r\n            onCellValueChanged={hdlCellValueChanged}\r\n            onGridReady={onGridReady}\r\n          />\r\n        </div>\r\n      }\r\n\r\n      {rowData.length > 0 && !pdfReady &&\r\n        <>\r\n          <hr className=\"mt-8 mb-6\" />\r\n          <p className=\"underline underline-offset-2 select-none\">ประเมินคุณภาพการบันทึกเวชระเบียนในภาพรวม</p>\r\n          <div className=\"flex items-start gap-2 py-2\">\r\n            <p className=\"font-semibold w-[130px] text-sm\">Overall Finding</p>\r\n            <div className=\"flex flex-col gap-2\">\r\n              {overallData.length > 0 && overallData.map((e, index) => (\r\n                <Checkbox size=\"sm\" key={index} value={e.overall_finding_result} defaultSelected={overallData ? e.overall_finding_result : false} onValueChange={(value) => hdlChangeCheckbox(value, e) } label=\"ไม่ต้องการบันทึก\" radius=\"full\">{e.overall_finding.overall_finding_name}</Checkbox>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-start gap-2 py-2 select-none\">\r\n            <p className=\"font-semibold w-[130px] text-sm\">(เลือกเพียง 1 ข้อ)</p>\r\n            <div className=\"flex flex-col gap-4\">\r\n              <RadioGroup onValueChange={(value) => hdlChangeReviewStatus(value)} >\r\n                {reviewStatus?.length > 0 && reviewStatus?.map((e) => (\r\n                  <Radio size=\"sm\" value={e.review_status_id} key={e.review_status_id}>{e.review_status_name} ({e.review_status_description})</Radio>\r\n                ))}\r\n              </RadioGroup>\r\n              {reviewStatus && reviewStatus?.find(e => e.review_status_id === formData.review_status_id)?.review_status_type === true && (\r\n                <Input onValueChange={(value) => setFormData(prev => ({ ...prev, review_status_comment: value }))} variant=\"bordered\" labelPlacement=\"outside\" radius=\"md\" label=\"อื่นๆ\" placeholder=\"อื่นๆ\" value={formData.review_status_comment } />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      }\r\n\r\n      {pdfReady && ( pdfBase64 === \"\" ? \r\n        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"z-50 fixed inset-0 w-full h-dvh flex items-center justify-center backdrop-blur-xs\">\r\n          <LoadingCenter title=\"กําลังสร้าง PDF...\" />\r\n        </motion.div> \r\n        : \r\n        <div className=\"w-full h-[calc(100vh-15vh)] overflow-hidden rounded-2xl my-2 shadow-lg\">\r\n          <iframe title=\"pdf\" loading=\"lazy\" width=\"100%\" height=\"100%\" src={`data:application/pdf;base64,${pdfBase64}`} className=\"w-full h-full\" />\r\n        </div>\r\n      )}\r\n\r\n      { !pdfReady && (\r\n        <motion.button\r\n          onClick={onSubmit}\r\n          className=\"w-full mt-4 text-emerald-700 font-semibold py-2 bg-emerald-50 border border-emerald-700 dark:hover:bg-emerald-800 rounded-2xl dark:bg-emerald-700 dark:text-white cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed\"\r\n          onMouseDown={(e) => ripple.create(e)}\r\n          disabled={generatePdf || rowData.length === 0 || loadingSubmit || patientAn === null || patientAn === undefined}\r\n        >{generatePdf ? \"กำลังบันทึกข้อมูล\" : \"บันทึก\"}</motion.button>\r\n      )}\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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","ignoreList":[1]}